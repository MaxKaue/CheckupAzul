{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maxka\\\\saude-homem-web\\\\src\\\\pages\\\\Lembretes.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\n// ALTERADO: Apenas as importaÃ§Ãµes essenciais\nimport { auth, db } from \"../services/firebaseService\";\nimport { collection, query, where, getDocs, addDoc, deleteDoc, doc } from \"firebase/firestore\";\nimport \"../styles/Lembretes.css\";\n\n// FunÃ§Ã£o para formatar a data\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatDate = timestamp => {\n  if (!timestamp) return 'N/A';\n  // O Firestore pode retornar um objeto Timestamp, que tem um mÃ©todo toDate()\n  const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n  return date.toLocaleDateString('pt-BR');\n};\nexport default function Lembretes() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [lembretes, setLembretes] = useState([]);\n  const [novoLembrete, setNovoLembrete] = useState({\n    tipoExame: '',\n    dataPrevista: ''\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [emailStatus, setEmailStatus] = useState({}); // Para gerenciar status por item\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(currentUser => {\n      if (currentUser) {\n        setUser(currentUser);\n        fetchLembretes(currentUser.uid);\n      } else {\n        setUser(null);\n        setLembretes([]);\n        setLoading(false);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // FunÃ§Ã£o para buscar os lembretes do Firestore\n  const fetchLembretes = async uid => {\n    setLoading(true);\n    setError('');\n    try {\n      const q = query(collection(db, \"lembretes\"), where(\"uidUsuario\", \"==\", uid));\n      const querySnapshot = await getDocs(q);\n      const listaLembretes = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n\n      // Ordena pelo mais prÃ³ximo\n      listaLembretes.sort((a, b) => a.dataPrevista.toDate() - b.dataPrevista.toDate());\n      setLembretes(listaLembretes);\n    } catch (err) {\n      console.error(\"Erro ao buscar lembretes:\", err);\n      setError(\"NÃ£o foi possÃ­vel carregar seus lembretes.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // FunÃ§Ã£o para adicionar um novo lembrete\n  const handleAddLembrete = async e => {\n    e.preventDefault();\n    if (!user || !novoLembrete.tipoExame || !novoLembrete.dataPrevista) {\n      setError(\"Preencha todos os campos.\");\n      return;\n    }\n    try {\n      await addDoc(collection(db, \"lembretes\"), {\n        uidUsuario: user.uid,\n        tipoExame: novoLembrete.tipoExame,\n        // Armazena a data como um objeto Date\n        dataPrevista: new Date(novoLembrete.dataPrevista),\n        dataCriacao: new Date()\n      });\n\n      // Limpa o formulÃ¡rio e recarrega a lista\n      setNovoLembrete({\n        tipoExame: '',\n        dataPrevista: ''\n      });\n      fetchLembretes(user.uid);\n    } catch (err) {\n      console.error(\"Erro ao adicionar lembrete:\", err);\n      setError(\"Erro ao salvar o lembrete.\");\n    }\n  };\n\n  // FunÃ§Ã£o para remover um lembrete\n  const handleRemoveLembrete = async id => {\n    try {\n      await deleteDoc(doc(db, \"lembretes\", id));\n      fetchLembretes(user.uid); // Recarrega a lista\n    } catch (err) {\n      console.error(\"Erro ao remover lembrete:\", err);\n      setError(\"Erro ao remover o lembrete.\");\n    }\n  };\n\n  // NOVO: FunÃ§Ã£o para SIMULAR o envio de e-mail (retorna SUCESSO imediato)\n  const handleTestEmail = async lembrete => {\n    if (!user || !user.email) {\n      alert(\"Erro: UsuÃ¡rio nÃ£o logado ou e-mail indisponÃ­vel.\");\n      return;\n    }\n    setEmailStatus(prev => ({\n      ...prev,\n      [lembrete.id]: 'Enviando...'\n    }));\n\n    // Simula o tempo de uma chamada de API (500ms)\n    await new Promise(resolve => setTimeout(resolve, 500));\n\n    // SimulaÃ§Ã£o: Sucesso Garantido para o template\n    setEmailStatus(prev => ({\n      ...prev,\n      [lembrete.id]: 'Enviado!'\n    }));\n\n    // Aqui Ã© onde vocÃª adicionaria a lÃ³gica real do SendGrid/Cloud Function no futuro:\n    /*\r\n    const dataPrevistaFormatada = formatDate(lembrete.dataPrevista);\r\n    const emailBody = `...`; // Corpo HTML\r\n      try {\r\n        await callSendEmailFunction({ \r\n            to: user.email,\r\n            subject: `Lembrete: ${lembrete.tipoExame}`,\r\n            html: emailBody\r\n        });\r\n        setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Enviado!' }));\r\n    } catch (error) {\r\n        setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Erro no servidor.' }));\r\n    }\r\n    */\n  };\n  // Fim da funÃ§Ã£o de e-mail\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-message page-wrapper\",\n      children: \"Carregando lembretes...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 16\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message page-wrapper\",\n      children: \"Voc\\xEA precisa estar logado para gerenciar lembretes.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lembretes-container page-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCC5 Gerenciador de Exames e Consultas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"instruction\",\n      children: \"Adicione exames preventivos e consultas de rotina para ser lembrado por e-mail.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddLembrete,\n      className: \"lembretes-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Tipo de Exame/Consulta (ex: Checkup Anual)\",\n        value: novoLembrete.tipoExame,\n        onChange: e => setNovoLembrete({\n          ...novoLembrete,\n          tipoExame: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: novoLembrete.dataPrevista,\n        onChange: e => setNovoLembrete({\n          ...novoLembrete,\n          dataPrevista: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"add-button\",\n        children: \"Adicionar Lembrete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lembretes-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Pr\\xF3ximos Lembretes (\", lembretes.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), lembretes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"empty-message\",\n        children: \"Nenhum lembrete agendado. Adicione o seu primeiro!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }, this) : lembretes.map(lembrete => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lembrete-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lembrete-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: lembrete.tipoExame\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Data Prevista:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"lembrete-date\",\n              children: formatDate(lembrete.dataPrevista)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lembrete-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleTestEmail(lembrete),\n            className: \"test-email-button\",\n            disabled: emailStatus[lembrete.id] === 'Enviando...',\n            children: emailStatus[lembrete.id] || 'Testar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRemoveLembrete(lembrete.id),\n            className: \"remove-button\",\n            children: \"Remover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 29\n        }, this)]\n      }, lembrete.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n}\n_s(Lembretes, \"bmkku2IfCRXV+xaVmlEJaRmABy0=\");\n_c = Lembretes;\nvar _c;\n$RefreshReg$(_c, \"Lembretes\");","map":{"version":3,"names":["React","useState","useEffect","auth","db","collection","query","where","getDocs","addDoc","deleteDoc","doc","jsxDEV","_jsxDEV","formatDate","timestamp","date","toDate","Date","toLocaleDateString","Lembretes","_s","user","setUser","lembretes","setLembretes","novoLembrete","setNovoLembrete","tipoExame","dataPrevista","loading","setLoading","error","setError","emailStatus","setEmailStatus","unsubscribe","onAuthStateChanged","currentUser","fetchLembretes","uid","q","querySnapshot","listaLembretes","docs","map","id","data","sort","a","b","err","console","handleAddLembrete","e","preventDefault","uidUsuario","dataCriacao","handleRemoveLembrete","handleTestEmail","lembrete","email","alert","prev","Promise","resolve","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","length","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/maxka/saude-homem-web/src/pages/Lembretes.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// ALTERADO: Apenas as importaÃ§Ãµes essenciais\r\nimport { auth, db } from \"../services/firebaseService\"; \r\nimport { collection, query, where, getDocs, addDoc, deleteDoc, doc } from \"firebase/firestore\";\r\nimport \"../styles/Lembretes.css\";\r\n\r\n// FunÃ§Ã£o para formatar a data\r\nconst formatDate = (timestamp) => {\r\n    if (!timestamp) return 'N/A';\r\n    // O Firestore pode retornar um objeto Timestamp, que tem um mÃ©todo toDate()\r\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\r\n    return date.toLocaleDateString('pt-BR');\r\n};\r\n\r\nexport default function Lembretes() {\r\n    const [user, setUser] = useState(null);\r\n    const [lembretes, setLembretes] = useState([]);\r\n    const [novoLembrete, setNovoLembrete] = useState({ tipoExame: '', dataPrevista: '' });\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [emailStatus, setEmailStatus] = useState({}); // Para gerenciar status por item\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged((currentUser) => {\r\n            if (currentUser) {\r\n                setUser(currentUser);\r\n                fetchLembretes(currentUser.uid);\r\n            } else {\r\n                setUser(null);\r\n                setLembretes([]);\r\n                setLoading(false);\r\n            }\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    // FunÃ§Ã£o para buscar os lembretes do Firestore\r\n    const fetchLembretes = async (uid) => {\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            const q = query(collection(db, \"lembretes\"), where(\"uidUsuario\", \"==\", uid));\r\n            const querySnapshot = await getDocs(q);\r\n            const listaLembretes = querySnapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            }));\r\n            \r\n            // Ordena pelo mais prÃ³ximo\r\n            listaLembretes.sort((a, b) => a.dataPrevista.toDate() - b.dataPrevista.toDate());\r\n\r\n            setLembretes(listaLembretes);\r\n        } catch (err) {\r\n            console.error(\"Erro ao buscar lembretes:\", err);\r\n            setError(\"NÃ£o foi possÃ­vel carregar seus lembretes.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // FunÃ§Ã£o para adicionar um novo lembrete\r\n    const handleAddLembrete = async (e) => {\r\n        e.preventDefault();\r\n        if (!user || !novoLembrete.tipoExame || !novoLembrete.dataPrevista) {\r\n            setError(\"Preencha todos os campos.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await addDoc(collection(db, \"lembretes\"), {\r\n                uidUsuario: user.uid,\r\n                tipoExame: novoLembrete.tipoExame,\r\n                // Armazena a data como um objeto Date\r\n                dataPrevista: new Date(novoLembrete.dataPrevista), \r\n                dataCriacao: new Date()\r\n            });\r\n\r\n            // Limpa o formulÃ¡rio e recarrega a lista\r\n            setNovoLembrete({ tipoExame: '', dataPrevista: '' });\r\n            fetchLembretes(user.uid);\r\n        } catch (err) {\r\n            console.error(\"Erro ao adicionar lembrete:\", err);\r\n            setError(\"Erro ao salvar o lembrete.\");\r\n        }\r\n    };\r\n\r\n    // FunÃ§Ã£o para remover um lembrete\r\n    const handleRemoveLembrete = async (id) => {\r\n        try {\r\n            await deleteDoc(doc(db, \"lembretes\", id));\r\n            fetchLembretes(user.uid); // Recarrega a lista\r\n        } catch (err) {\r\n            console.error(\"Erro ao remover lembrete:\", err);\r\n            setError(\"Erro ao remover o lembrete.\");\r\n        }\r\n    };\r\n    \r\n    // NOVO: FunÃ§Ã£o para SIMULAR o envio de e-mail (retorna SUCESSO imediato)\r\n    const handleTestEmail = async (lembrete) => {\r\n        if (!user || !user.email) {\r\n            alert(\"Erro: UsuÃ¡rio nÃ£o logado ou e-mail indisponÃ­vel.\");\r\n            return;\r\n        }\r\n\r\n        setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Enviando...' }));\r\n\r\n        // Simula o tempo de uma chamada de API (500ms)\r\n        await new Promise(resolve => setTimeout(resolve, 500)); \r\n        \r\n        // SimulaÃ§Ã£o: Sucesso Garantido para o template\r\n        setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Enviado!' }));\r\n\r\n        // Aqui Ã© onde vocÃª adicionaria a lÃ³gica real do SendGrid/Cloud Function no futuro:\r\n        /*\r\n        const dataPrevistaFormatada = formatDate(lembrete.dataPrevista);\r\n        const emailBody = `...`; // Corpo HTML\r\n\r\n        try {\r\n            await callSendEmailFunction({ \r\n                to: user.email,\r\n                subject: `Lembrete: ${lembrete.tipoExame}`,\r\n                html: emailBody\r\n            });\r\n            setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Enviado!' }));\r\n        } catch (error) {\r\n            setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Erro no servidor.' }));\r\n        }\r\n        */\r\n    };\r\n    // Fim da funÃ§Ã£o de e-mail\r\n\r\n    if (loading) {\r\n        return <div className=\"loading-message page-wrapper\">Carregando lembretes...</div>;\r\n    }\r\n\r\n    if (!user) {\r\n        return <div className=\"error-message page-wrapper\">VocÃª precisa estar logado para gerenciar lembretes.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"lembretes-container page-wrapper\">\r\n            <h2>ðŸ“… Gerenciador de Exames e Consultas</h2>\r\n            <p className=\"instruction\">Adicione exames preventivos e consultas de rotina para ser lembrado por e-mail.</p>\r\n\r\n            {error && <div className=\"error-message\">{error}</div>}\r\n\r\n            {/* FormulÃ¡rio para Adicionar Lembrete */}\r\n            <form onSubmit={handleAddLembrete} className=\"lembretes-form\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Tipo de Exame/Consulta (ex: Checkup Anual)\"\r\n                    value={novoLembrete.tipoExame}\r\n                    onChange={(e) => setNovoLembrete({ ...novoLembrete, tipoExame: e.target.value })}\r\n                    required\r\n                />\r\n                <input\r\n                    type=\"date\"\r\n                    value={novoLembrete.dataPrevista}\r\n                    onChange={(e) => setNovoLembrete({ ...novoLembrete, dataPrevista: e.target.value })}\r\n                    required\r\n                />\r\n                <button type=\"submit\" className=\"add-button\">Adicionar Lembrete</button>\r\n            </form>\r\n\r\n            {/* Lista de Lembretes */}\r\n            <div className=\"lembretes-list\">\r\n                <h3>PrÃ³ximos Lembretes ({lembretes.length})</h3>\r\n                {lembretes.length === 0 ? (\r\n                    <p className=\"empty-message\">Nenhum lembrete agendado. Adicione o seu primeiro!</p>\r\n                ) : (\r\n                    lembretes.map((lembrete) => (\r\n                        <div key={lembrete.id} className=\"lembrete-item\">\r\n                            <div className=\"lembrete-info\">\r\n                                <h4>{lembrete.tipoExame}</h4>\r\n                                <p>Data Prevista: \r\n                                    <span className=\"lembrete-date\">\r\n                                        {formatDate(lembrete.dataPrevista)}\r\n                                    </span>\r\n                                </p>\r\n                            </div>\r\n                            \r\n                            {/* CONTROLES E ESTATUS */}\r\n                            <div className=\"lembrete-actions\">\r\n                                {/* BotÃ£o de Teste de E-mail */}\r\n                                <button\r\n                                    onClick={() => handleTestEmail(lembrete)}\r\n                                    className=\"test-email-button\"\r\n                                    disabled={emailStatus[lembrete.id] === 'Enviando...'}\r\n                                >\r\n                                    {emailStatus[lembrete.id] || 'Testar'}\r\n                                </button>\r\n                                \r\n                                <button \r\n                                    onClick={() => handleRemoveLembrete(lembrete.id)} \r\n                                    className=\"remove-button\"\r\n                                >\r\n                                    Remover\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}