{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maxka\\\\saude-homem-web\\\\src\\\\components\\\\Quiz.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\n// IMPORTAÇÕES DO FIREBASE: auth, db e funções do Firestore e Auth\nimport { auth, db } from '../services/firebaseService';\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport \"../styles/Quiz.css\";\n\n// Novo array de perguntas com 3 opções e pontuações secretas\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst perguntas = [{\n  id: 1,\n  pergunta: \"Com que frequência você realiza exames de rotina (check-up médico)?\",\n  opcoes: [{\n    texto: \"Anualmente ou a cada 6 meses.\",\n    pontuacao: 3\n  }, {\n    texto: \"Apenas quando sinto algum sintoma ou dor.\",\n    pontuacao: 1\n  }, {\n    texto: \"Raramente ou nunca fiz exames preventivos.\",\n    pontuacao: 0\n  }]\n}, {\n  id: 2,\n  pergunta: \"Qual é o seu nível de atividade física semanal?\",\n  opcoes: [{\n    texto: \"Pratico exercícios moderados ou intensos 3 ou mais vezes por semana.\",\n    pontuacao: 3\n  }, {\n    texto: \"Pratico exercícios 1 a 2 vezes por semana, de forma leve.\",\n    pontuacao: 1\n  }, {\n    texto: \"Raramente ou nunca pratico atividades físicas.\",\n    pontuacao: 0\n  }]\n}, {\n  id: 3,\n  pergunta: \"Como você avalia a qualidade e a duração do seu sono?\",\n  opcoes: [{\n    texto: \"Durmo de 7 a 9 horas e acordo sentindo-me bem e disposto.\",\n    pontuacao: 3\n  }, {\n    texto: \"Durmo de 5 a 6 horas por noite e, às vezes, acordo cansado.\",\n    pontuacao: 1\n  }, {\n    texto: \"Durmo menos de 5 horas ou lido frequentemente com insônia.\",\n    pontuacao: 0\n  }]\n}, {\n  id: 4,\n  pergunta: \"Sua alimentação diária é composta principalmente por:\",\n  opcoes: [{\n    texto: \"Refeições caseiras balanceadas, com vegetais, frutas e proteínas.\",\n    pontuacao: 3\n  }, {\n    texto: \"Alimentos variados, mas com consumo ocasional de fast-food e doces.\",\n    pontuacao: 1\n  }, {\n    texto: \"Principalmente alimentos processados, frituras e bebidas açucaradas.\",\n    pontuacao: 0\n  }]\n}, {\n  id: 5,\n  pergunta: \"Qual é a sua relação com o tabagismo?\",\n  opcoes: [{\n    texto: \"Nunca fumei.\",\n    pontuacao: 3\n  }, {\n    texto: \"Já fui fumante, mas parei completamente.\",\n    pontuacao: 1\n  }, {\n    texto: \"Fumo regularmente (cigarro, narguilé ou eletrônico).\",\n    pontuacao: 0\n  }]\n}, {\n  id: 6,\n  pergunta: \"Com que frequência você consome bebidas alcoólicas?\",\n  opcoes: [{\n    texto: \"Raramente, apenas em ocasiões sociais ou não bebo.\",\n    pontuacao: 3\n  }, {\n    texto: \"1 a 2 vezes por semana, em quantidade moderada.\",\n    pontuacao: 1\n  }, {\n    texto: \"Consumo diariamente ou bebo em grandes quantidades.\",\n    pontuacao: 0\n  }]\n}, {\n  id: 7,\n  pergunta: \"Você dedica tempo regular ao cuidado da sua saúde mental e emocional?\",\n  opcoes: [{\n    texto: \"Sim, pratico meditação, hobbies ou busco terapia/aconselhamento.\",\n    pontuacao: 3\n  }, {\n    texto: \"Apenas cuido da saúde mental quando o estresse se torna extremo.\",\n    pontuacao: 1\n  }, {\n    texto: \"Não dou nenhuma atenção especial à minha saúde mental.\",\n    pontuacao: 0\n  }]\n}, {\n  id: 8,\n  pergunta: \"Durante longos períodos de trabalho ou estudo, você costuma fazer pausas?\",\n  opcoes: [{\n    texto: \"Sim, faço pausas curtas e regulares (a cada 1-2 horas) para esticar e relaxar.\",\n    pontuacao: 3\n  }, {\n    texto: \"Faço pausas apenas quando estou sentindo dor ou exaustão.\",\n    pontuacao: 1\n  }, {\n    texto: \"Raramente ou nunca me permito pausas, prefiro terminar rápido.\",\n    pontuacao: 0\n  }]\n}, {\n  id: 9,\n  pergunta: \"Você se hidrata corretamente ao longo do dia?\",\n  opcoes: [{\n    texto: \"Bebo a quantidade ideal (cerca de 2L) ou mais, diariamente.\",\n    pontuacao: 3\n  }, {\n    texto: \"Bebo água, mas muitas vezes me esqueço e não alcanço a meta ideal.\",\n    pontuacao: 1\n  }, {\n    texto: \"Bebo muito pouco (menos de 1L) e prefiro sucos/refrigerantes.\",\n    pontuacao: 0\n  }]\n}, {\n  id: 10,\n  pergunta: \"Sua rotina inclui tempo para lazer, hobbies ou atividades sociais?\",\n  opcoes: [{\n    texto: \"Sim, tenho atividades de lazer e sociais reservadas semanalmente.\",\n    pontuacao: 3\n  }, {\n    texto: \"Tenho lazer apenas esporadicamente, quando sobra tempo.\",\n    pontuacao: 1\n  }, {\n    texto: \"Minha rotina é só trabalho/obrigações e não sobra tempo para lazer.\",\n    pontuacao: 0\n  }]\n}];\nconst getResultado = pontuacao => {\n  if (pontuacao >= 26) {\n    return {\n      titulo: \"Parabéns: Nível de Cuidado Excepcional!\",\n      texto: \"Você demonstra um nível notável de atenção e cuidado com sua saúde física e mental. Seus hábitos são exemplares. Continue mantendo esse foco no bem-estar!\"\n    };\n  } else if (pontuacao >= 19) {\n    return {\n      titulo: \"Muito Bom: Bons Hábitos Estabelecidos\",\n      texto: \"Você tem uma base sólida de cuidados com a saúde. Seus hábitos são majoritariamente saudáveis, mas existem áreas que podem ser otimizadas para alcançar o bem-estar total.\"\n    };\n  } else if (pontuacao >= 10) {\n    return {\n      titulo: \"Atenção Necessária: Hábitos Inconsistentes\",\n      texto: \"Seu nível de cuidado é inconsistente e hábitos regulares precisam ser estabelecidos. É importante identificar as áreas de risco (como sono ou alimentação) e buscar melhorias consistentes.\"\n    };\n  } else {\n    return {\n      titulo: \"Alerta Vermelho: Cuidado Urgente!\",\n      texto: \"Você demonstrou ter vários hábitos de alto risco e falta de cuidado consistente com a saúde. É crucial buscar ajuda profissional e mudar sua rotina imediatamente para prevenir problemas de saúde futuros.\"\n    };\n  }\n};\nexport default function Quiz() {\n  _s();\n  // === ESTADOS ===\n  const [respostas, setRespostas] = useState({});\n  const [resultado, setResultado] = useState(null); // Resultado da sessão atual\n  const [currentUser, setCurrentUser] = useState(null); // Usuário logado\n  const [loading, setLoading] = useState(true); // Estado de carregamento inicial\n  const [existingResult, setExistingResult] = useState(null); // Resultado salvo no Firestore\n\n  // === LÓGICA DE FIREBASE ===\n\n  // Função para buscar resultado existente no Firestore\n  const fetchExistingResult = async uid => {\n    try {\n      const docRef = doc(db, \"quiz_results\", uid);\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        // Recalcula o texto do resultado com base na pontuação salva\n        const calculatedResult = getResultado(data.score);\n        setExistingResult({\n          ...data,\n          ...calculatedResult\n        });\n      }\n    } catch (error) {\n      console.error(\"Erro ao buscar resultado do quiz existente:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Função para salvar o resultado no Firestore\n  const saveResult = async (uid, totalScore, finalResult) => {\n    try {\n      const docRef = doc(db, \"quiz_results\", uid);\n      await setDoc(docRef, {\n        uid: uid,\n        score: totalScore,\n        result_title: finalResult.titulo,\n        result_text: finalResult.texto,\n        completed_at: new Date()\n      });\n      // Após salvar, atualiza o resultado existente para que o botão Home mude\n      setExistingResult({\n        uid: uid,\n        score: totalScore,\n        completed_at: new Date(),\n        ...finalResult\n      });\n    } catch (error) {\n      console.error(\"Erro ao salvar o resultado do quiz:\", error);\n    }\n  };\n\n  // Hook para verificar login e buscar resultado\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      setCurrentUser(user);\n      if (user) {\n        fetchExistingResult(user.uid);\n      } else {\n        setLoading(false);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // === LÓGICA DO QUIZ ===\n\n  const handleChange = (id, pontuacao) => {\n    setRespostas(prev => ({\n      ...prev,\n      [id]: pontuacao\n    }));\n  };\n  const isQuizCompleto = Object.keys(respostas).length === perguntas.length;\n  const handleSubmit = async () => {\n    if (!isQuizCompleto) {\n      alert(\"Por favor, responda a todas as perguntas antes de enviar.\");\n      return;\n    }\n    const pontuacaoTotal = Object.values(respostas).reduce((acc, currentScore) => acc + currentScore, 0);\n    const finalResult = getResultado(pontuacaoTotal);\n    if (currentUser) {\n      await saveResult(currentUser.uid, pontuacaoTotal, finalResult);\n    }\n\n    // Exibe o resultado localmente, substituindo o formulário\n    setResultado(finalResult);\n  };\n\n  // Função para iniciar um novo quiz (escondendo o resultado existente)\n  const handleRefazerQuiz = () => {\n    setExistingResult(null); // Esconde o resultado salvo\n    setResultado(null); // Garante que o resultado da sessão anterior não apareça\n    setRespostas({}); // Limpa as respostas\n  };\n\n  // === RENDERIZAÇÃO CONDICIONAL ===\n\n  // 1. Loading\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Carregando status do quiz...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 48\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 16\n    }, this);\n  }\n\n  // 2. Resultado Salvo Anteriomente (apenas se o usuário estiver logado e tiver um resultado)\n  if (existingResult && !resultado) {\n    // Se houver resultado salvo E não houver resultado novo\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-resultado-container page-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"resultado-titulo\",\n        children: \"Seu \\xDAltimo Resultado Salvo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"resultado-titulo\",\n        children: existingResult.titulo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"resultado-texto\",\n        children: existingResult.texto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"resultado-pontuacao\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Sua pontua\\xE7\\xE3o total foi: **\", existingResult.score, \"/30**\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRefazerQuiz,\n        className: \"quiz-button submit-button\",\n        children: \"Refazer Quiz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }, this);\n  }\n\n  // 3. Resultado Recém-Concluído (Após submeter o formulário)\n  if (resultado) {\n    const pontuacaoTotal = Object.values(respostas).reduce((acc, currentScore) => acc + currentScore, 0);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-resultado-container page-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"resultado-titulo\",\n        children: \"Seu Resultado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"resultado-titulo\",\n        children: resultado.titulo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"resultado-texto\",\n        children: resultado.texto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"resultado-pontuacao\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Sua pontua\\xE7\\xE3o total foi: **\", pontuacaoTotal, \"/30**\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }, this), !currentUser && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"login-text\",\n        children: \"**Fa\\xE7a login** para salvar este resultado e acompanhar seu progresso!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this);\n  }\n\n  // 4. Formulário do Quiz (Padrão)\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-container page-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"quiz-header-title\",\n      children: \"Check-up de H\\xE1bitos de Sa\\xFAde\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"quiz-instruction\",\n      children: \"Responda \\xE0s perguntas abaixo para avaliar seus h\\xE1bitos de sa\\xFAde e bem-estar. N\\xE3o h\\xE1 respostas certas ou erradas; o objetivo \\xE9 a sua autoavalia\\xE7\\xE3o.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        handleSubmit();\n      },\n      children: [perguntas.map(q => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-question-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"question-text\",\n          children: [q.id, \". \", q.pergunta]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options-group\",\n          children: q.opcoes.map(o => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"option-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: `pergunta-${q.id}`,\n              value: o.pontuacao,\n              onChange: () => handleChange(q.id, o.pontuacao),\n              checked: respostas[q.id] === o.pontuacao\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"option-text\",\n              children: o.texto\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 37\n            }, this)]\n          }, o.texto, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 25\n        }, this)]\n      }, q.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"quiz-button submit-button\",\n          disabled: !isQuizCompleto,\n          children: isQuizCompleto ? \"Ver Meu Resultado\" : `Responder ${perguntas.length - Object.keys(respostas).length} perguntas restantes`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 9\n  }, this);\n}\n_s(Quiz, \"u01GRj2QkpSKoXzIVKfddsk8y9w=\");\n_c = Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useState","useEffect","auth","db","doc","getDoc","setDoc","onAuthStateChanged","jsxDEV","_jsxDEV","perguntas","id","pergunta","opcoes","texto","pontuacao","getResultado","titulo","Quiz","_s","respostas","setRespostas","resultado","setResultado","currentUser","setCurrentUser","loading","setLoading","existingResult","setExistingResult","fetchExistingResult","uid","docRef","docSnap","exists","data","calculatedResult","score","error","console","saveResult","totalScore","finalResult","result_title","result_text","completed_at","Date","unsubscribe","user","handleChange","prev","isQuizCompleto","Object","keys","length","handleSubmit","alert","pontuacaoTotal","values","reduce","acc","currentScore","handleRefazerQuiz","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","e","preventDefault","map","q","o","type","name","value","onChange","checked","disabled","_c","$RefreshReg$"],"sources":["C:/Users/maxka/saude-homem-web/src/components/Quiz.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// IMPORTAÇÕES DO FIREBASE: auth, db e funções do Firestore e Auth\r\nimport { auth, db } from '../services/firebaseService'; \r\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport \"../styles/Quiz.css\";\r\n\r\n// Novo array de perguntas com 3 opções e pontuações secretas\r\nconst perguntas = [\r\n    { \r\n        id: 1, \r\n        pergunta: \"Com que frequência você realiza exames de rotina (check-up médico)?\", \r\n        opcoes: [\r\n            { texto: \"Anualmente ou a cada 6 meses.\", pontuacao: 3 },\r\n            { texto: \"Apenas quando sinto algum sintoma ou dor.\", pontuacao: 1 },\r\n            { texto: \"Raramente ou nunca fiz exames preventivos.\", pontuacao: 0 }\r\n        ] \r\n    },\r\n    { \r\n        id: 2, \r\n        pergunta: \"Qual é o seu nível de atividade física semanal?\", \r\n        opcoes: [\r\n            { texto: \"Pratico exercícios moderados ou intensos 3 ou mais vezes por semana.\", pontuacao: 3 },\r\n            { texto: \"Pratico exercícios 1 a 2 vezes por semana, de forma leve.\", pontuacao: 1 },\r\n            { texto: \"Raramente ou nunca pratico atividades físicas.\", pontuacao: 0 }\r\n        ] \r\n    },\r\n    { \r\n        id: 3, \r\n        pergunta: \"Como você avalia a qualidade e a duração do seu sono?\", \r\n        opcoes: [\r\n            { texto: \"Durmo de 7 a 9 horas e acordo sentindo-me bem e disposto.\", pontuacao: 3 },\r\n            { texto: \"Durmo de 5 a 6 horas por noite e, às vezes, acordo cansado.\", pontuacao: 1 },\r\n            { texto: \"Durmo menos de 5 horas ou lido frequentemente com insônia.\", pontuacao: 0 }\r\n        ] \r\n    },\r\n    { \r\n        id: 4, \r\n        pergunta: \"Sua alimentação diária é composta principalmente por:\", \r\n        opcoes: [\r\n            { texto: \"Refeições caseiras balanceadas, com vegetais, frutas e proteínas.\", pontuacao: 3 },\r\n            { texto: \"Alimentos variados, mas com consumo ocasional de fast-food e doces.\", pontuacao: 1 },\r\n            { texto: \"Principalmente alimentos processados, frituras e bebidas açucaradas.\", pontuacao: 0 }\r\n        ] \r\n    },\r\n    { \r\n        id: 5, \r\n        pergunta: \"Qual é a sua relação com o tabagismo?\", \r\n        opcoes: [\r\n            { texto: \"Nunca fumei.\", pontuacao: 3 },\r\n            { texto: \"Já fui fumante, mas parei completamente.\", pontuacao: 1 },\r\n            { texto: \"Fumo regularmente (cigarro, narguilé ou eletrônico).\", pontuacao: 0 }\r\n        ] \r\n    },\r\n    { \r\n        id: 6, \r\n        pergunta: \"Com que frequência você consome bebidas alcoólicas?\", \r\n        opcoes: [\r\n            { texto: \"Raramente, apenas em ocasiões sociais ou não bebo.\", pontuacao: 3 },\r\n            { texto: \"1 a 2 vezes por semana, em quantidade moderada.\", pontuacao: 1 },\r\n            { texto: \"Consumo diariamente ou bebo em grandes quantidades.\", pontuacao: 0 }\r\n        ] \r\n    },\r\n    { \r\n        id: 7, \r\n        pergunta: \"Você dedica tempo regular ao cuidado da sua saúde mental e emocional?\", \r\n        opcoes: [\r\n            { texto: \"Sim, pratico meditação, hobbies ou busco terapia/aconselhamento.\", pontuacao: 3 },\r\n            { texto: \"Apenas cuido da saúde mental quando o estresse se torna extremo.\", pontuacao: 1 },\r\n            { texto: \"Não dou nenhuma atenção especial à minha saúde mental.\", pontuacao: 0 }\r\n        ] \r\n    },\r\n    { \r\n        id: 8, \r\n        pergunta: \"Durante longos períodos de trabalho ou estudo, você costuma fazer pausas?\", \r\n        opcoes: [\r\n            { texto: \"Sim, faço pausas curtas e regulares (a cada 1-2 horas) para esticar e relaxar.\", pontuacao: 3 },\r\n            { texto: \"Faço pausas apenas quando estou sentindo dor ou exaustão.\", pontuacao: 1 },\r\n            { texto: \"Raramente ou nunca me permito pausas, prefiro terminar rápido.\", pontuacao: 0 }\r\n        ] \r\n    },\r\n    { \r\n        id: 9, \r\n        pergunta: \"Você se hidrata corretamente ao longo do dia?\", \r\n        opcoes: [\r\n            { texto: \"Bebo a quantidade ideal (cerca de 2L) ou mais, diariamente.\", pontuacao: 3 },\r\n            { texto: \"Bebo água, mas muitas vezes me esqueço e não alcanço a meta ideal.\", pontuacao: 1 },\r\n            { texto: \"Bebo muito pouco (menos de 1L) e prefiro sucos/refrigerantes.\", pontuacao: 0 }\r\n        ] \r\n    },\r\n    { \r\n        id: 10, \r\n        pergunta: \"Sua rotina inclui tempo para lazer, hobbies ou atividades sociais?\", \r\n        opcoes: [\r\n            { texto: \"Sim, tenho atividades de lazer e sociais reservadas semanalmente.\", pontuacao: 3 },\r\n            { texto: \"Tenho lazer apenas esporadicamente, quando sobra tempo.\", pontuacao: 1 },\r\n            { texto: \"Minha rotina é só trabalho/obrigações e não sobra tempo para lazer.\", pontuacao: 0 }\r\n        ] \r\n    }\r\n];\r\n\r\nconst getResultado = (pontuacao) => {\r\n    if (pontuacao >= 26) {\r\n        return { \r\n            titulo: \"Parabéns: Nível de Cuidado Excepcional!\", \r\n            texto: \"Você demonstra um nível notável de atenção e cuidado com sua saúde física e mental. Seus hábitos são exemplares. Continue mantendo esse foco no bem-estar!\" \r\n        };\r\n    } else if (pontuacao >= 19) {\r\n        return { \r\n            titulo: \"Muito Bom: Bons Hábitos Estabelecidos\", \r\n            texto: \"Você tem uma base sólida de cuidados com a saúde. Seus hábitos são majoritariamente saudáveis, mas existem áreas que podem ser otimizadas para alcançar o bem-estar total.\" \r\n        };\r\n    } else if (pontuacao >= 10) {\r\n        return { \r\n            titulo: \"Atenção Necessária: Hábitos Inconsistentes\", \r\n            texto: \"Seu nível de cuidado é inconsistente e hábitos regulares precisam ser estabelecidos. É importante identificar as áreas de risco (como sono ou alimentação) e buscar melhorias consistentes.\" \r\n        };\r\n    } else {\r\n        return { \r\n            titulo: \"Alerta Vermelho: Cuidado Urgente!\", \r\n            texto: \"Você demonstrou ter vários hábitos de alto risco e falta de cuidado consistente com a saúde. É crucial buscar ajuda profissional e mudar sua rotina imediatamente para prevenir problemas de saúde futuros.\" \r\n        };\r\n    }\r\n};\r\n\r\n\r\nexport default function Quiz() {\r\n    // === ESTADOS ===\r\n    const [respostas, setRespostas] = useState({});\r\n    const [resultado, setResultado] = useState(null); // Resultado da sessão atual\r\n    const [currentUser, setCurrentUser] = useState(null); // Usuário logado\r\n    const [loading, setLoading] = useState(true); // Estado de carregamento inicial\r\n    const [existingResult, setExistingResult] = useState(null); // Resultado salvo no Firestore\r\n\r\n    // === LÓGICA DE FIREBASE ===\r\n\r\n    // Função para buscar resultado existente no Firestore\r\n    const fetchExistingResult = async (uid) => {\r\n        try {\r\n            const docRef = doc(db, \"quiz_results\", uid);\r\n            const docSnap = await getDoc(docRef);\r\n            \r\n            if (docSnap.exists()) {\r\n                const data = docSnap.data();\r\n                // Recalcula o texto do resultado com base na pontuação salva\r\n                const calculatedResult = getResultado(data.score); \r\n                setExistingResult({ ...data, ...calculatedResult });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Erro ao buscar resultado do quiz existente:\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Função para salvar o resultado no Firestore\r\n    const saveResult = async (uid, totalScore, finalResult) => {\r\n        try {\r\n            const docRef = doc(db, \"quiz_results\", uid);\r\n            await setDoc(docRef, {\r\n                uid: uid,\r\n                score: totalScore,\r\n                result_title: finalResult.titulo,\r\n                result_text: finalResult.texto,\r\n                completed_at: new Date(),\r\n            });\r\n            // Após salvar, atualiza o resultado existente para que o botão Home mude\r\n            setExistingResult({ \r\n                uid: uid, score: totalScore, completed_at: new Date(), ...finalResult \r\n            });\r\n        } catch (error) {\r\n            console.error(\"Erro ao salvar o resultado do quiz:\", error);\r\n        }\r\n    };\r\n    \r\n    // Hook para verificar login e buscar resultado\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n            setCurrentUser(user);\r\n            if (user) {\r\n                fetchExistingResult(user.uid);\r\n            } else {\r\n                setLoading(false);\r\n            }\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n\r\n    // === LÓGICA DO QUIZ ===\r\n\r\n    const handleChange = (id, pontuacao) => {\r\n        setRespostas(prev => ({ ...prev, [id]: pontuacao }));\r\n    };\r\n    \r\n    const isQuizCompleto = Object.keys(respostas).length === perguntas.length;\r\n\r\n    const handleSubmit = async () => {\r\n        if (!isQuizCompleto) {\r\n            alert(\"Por favor, responda a todas as perguntas antes de enviar.\");\r\n            return;\r\n        }\r\n\r\n        const pontuacaoTotal = Object.values(respostas).reduce((acc, currentScore) => acc + currentScore, 0);\r\n        const finalResult = getResultado(pontuacaoTotal); \r\n\r\n        if (currentUser) {\r\n            await saveResult(currentUser.uid, pontuacaoTotal, finalResult);\r\n        }\r\n        \r\n        // Exibe o resultado localmente, substituindo o formulário\r\n        setResultado(finalResult);\r\n    };\r\n\r\n    // Função para iniciar um novo quiz (escondendo o resultado existente)\r\n    const handleRefazerQuiz = () => {\r\n        setExistingResult(null); // Esconde o resultado salvo\r\n        setResultado(null); // Garante que o resultado da sessão anterior não apareça\r\n        setRespostas({}); // Limpa as respostas\r\n    }\r\n\r\n    // === RENDERIZAÇÃO CONDICIONAL ===\r\n    \r\n    // 1. Loading\r\n    if (loading) {\r\n        return <div className=\"quiz-container\"><p>Carregando status do quiz...</p></div>;\r\n    }\r\n\r\n    // 2. Resultado Salvo Anteriomente (apenas se o usuário estiver logado e tiver um resultado)\r\n    if (existingResult && !resultado) { // Se houver resultado salvo E não houver resultado novo\r\n        return (\r\n            <div className=\"quiz-resultado-container page-wrapper\">\r\n                <h2 className=\"resultado-titulo\">Seu Último Resultado Salvo</h2>\r\n                <h3 className=\"resultado-titulo\">{existingResult.titulo}</h3>\r\n                <p className=\"resultado-texto\">{existingResult.texto}</p>\r\n                <div className=\"resultado-pontuacao\">\r\n                   <p>Sua pontuação total foi: **{existingResult.score}/30**</p>\r\n                </div>\r\n                <button onClick={handleRefazerQuiz} className=\"quiz-button submit-button\">\r\n                    Refazer Quiz\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    // 3. Resultado Recém-Concluído (Após submeter o formulário)\r\n    if (resultado) {\r\n        const pontuacaoTotal = Object.values(respostas).reduce((acc, currentScore) => acc + currentScore, 0);\r\n        return (\r\n            <div className=\"quiz-resultado-container page-wrapper\">\r\n                <h2 className=\"resultado-titulo\">Seu Resultado</h2>\r\n                <h3 className=\"resultado-titulo\">{resultado.titulo}</h3>\r\n                <p className=\"resultado-texto\">{resultado.texto}</p>\r\n                <div className=\"resultado-pontuacao\">\r\n                   <p>Sua pontuação total foi: **{pontuacaoTotal}/30**</p>\r\n                </div>\r\n                {!currentUser && (\r\n                    <p className=\"login-text\">\r\n                        **Faça login** para salvar este resultado e acompanhar seu progresso!\r\n                    </p>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // 4. Formulário do Quiz (Padrão)\r\n    return (\r\n        <div className=\"quiz-container page-wrapper\">\r\n            <h2 className=\"quiz-header-title\">Check-up de Hábitos de Saúde</h2>\r\n            <p className=\"quiz-instruction\">Responda às perguntas abaixo para avaliar seus hábitos de saúde e bem-estar. Não há respostas certas ou erradas; o objetivo é a sua autoavaliação.</p>\r\n\r\n            <form onSubmit={(e) => { e.preventDefault(); handleSubmit(); }}>\r\n                {perguntas.map(q => (\r\n                    <div key={q.id} className=\"quiz-question-block\">\r\n                        <p className=\"question-text\">{q.id}. {q.pergunta}</p>\r\n                        <div className=\"options-group\">\r\n                            {q.opcoes.map(o => (\r\n                                <label key={o.texto} className=\"option-label\">\r\n                                    <input\r\n                                        type=\"radio\"\r\n                                        name={`pergunta-${q.id}`}\r\n                                        value={o.pontuacao} \r\n                                        onChange={() => handleChange(q.id, o.pontuacao)}\r\n                                        checked={respostas[q.id] === o.pontuacao}\r\n                                    />\r\n                                    <span className=\"option-text\">{o.texto}</span>\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                \r\n                <div>\r\n                <button \r\n                    type=\"submit\" \r\n                    className=\"quiz-button submit-button\"\r\n                    disabled={!isQuizCompleto}\r\n                >\r\n                    {isQuizCompleto ? \"Ver Meu Resultado\" : `Responder ${perguntas.length - Object.keys(respostas).length} perguntas restantes`}\r\n                </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD;AACA,SAASC,IAAI,EAAEC,EAAE,QAAQ,6BAA6B;AACtD,SAASC,GAAG,EAAEC,MAAM,EAAEC,MAAM,QAAQ,oBAAoB;AACxD,SAASC,kBAAkB,QAAQ,eAAe;AAClD,OAAO,oBAAoB;;AAE3B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,SAAS,GAAG,CACd;EACIC,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,qEAAqE;EAC/EC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,+BAA+B;IAAEC,SAAS,EAAE;EAAE,CAAC,EACxD;IAAED,KAAK,EAAE,2CAA2C;IAAEC,SAAS,EAAE;EAAE,CAAC,EACpE;IAAED,KAAK,EAAE,4CAA4C;IAAEC,SAAS,EAAE;EAAE,CAAC;AAE7E,CAAC,EACD;EACIJ,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,iDAAiD;EAC3DC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,sEAAsE;IAAEC,SAAS,EAAE;EAAE,CAAC,EAC/F;IAAED,KAAK,EAAE,2DAA2D;IAAEC,SAAS,EAAE;EAAE,CAAC,EACpF;IAAED,KAAK,EAAE,gDAAgD;IAAEC,SAAS,EAAE;EAAE,CAAC;AAEjF,CAAC,EACD;EACIJ,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,uDAAuD;EACjEC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,2DAA2D;IAAEC,SAAS,EAAE;EAAE,CAAC,EACpF;IAAED,KAAK,EAAE,6DAA6D;IAAEC,SAAS,EAAE;EAAE,CAAC,EACtF;IAAED,KAAK,EAAE,4DAA4D;IAAEC,SAAS,EAAE;EAAE,CAAC;AAE7F,CAAC,EACD;EACIJ,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,uDAAuD;EACjEC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,mEAAmE;IAAEC,SAAS,EAAE;EAAE,CAAC,EAC5F;IAAED,KAAK,EAAE,qEAAqE;IAAEC,SAAS,EAAE;EAAE,CAAC,EAC9F;IAAED,KAAK,EAAE,sEAAsE;IAAEC,SAAS,EAAE;EAAE,CAAC;AAEvG,CAAC,EACD;EACIJ,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,uCAAuC;EACjDC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,cAAc;IAAEC,SAAS,EAAE;EAAE,CAAC,EACvC;IAAED,KAAK,EAAE,0CAA0C;IAAEC,SAAS,EAAE;EAAE,CAAC,EACnE;IAAED,KAAK,EAAE,sDAAsD;IAAEC,SAAS,EAAE;EAAE,CAAC;AAEvF,CAAC,EACD;EACIJ,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,qDAAqD;EAC/DC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,oDAAoD;IAAEC,SAAS,EAAE;EAAE,CAAC,EAC7E;IAAED,KAAK,EAAE,iDAAiD;IAAEC,SAAS,EAAE;EAAE,CAAC,EAC1E;IAAED,KAAK,EAAE,qDAAqD;IAAEC,SAAS,EAAE;EAAE,CAAC;AAEtF,CAAC,EACD;EACIJ,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,uEAAuE;EACjFC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,kEAAkE;IAAEC,SAAS,EAAE;EAAE,CAAC,EAC3F;IAAED,KAAK,EAAE,kEAAkE;IAAEC,SAAS,EAAE;EAAE,CAAC,EAC3F;IAAED,KAAK,EAAE,wDAAwD;IAAEC,SAAS,EAAE;EAAE,CAAC;AAEzF,CAAC,EACD;EACIJ,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,2EAA2E;EACrFC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,gFAAgF;IAAEC,SAAS,EAAE;EAAE,CAAC,EACzG;IAAED,KAAK,EAAE,2DAA2D;IAAEC,SAAS,EAAE;EAAE,CAAC,EACpF;IAAED,KAAK,EAAE,gEAAgE;IAAEC,SAAS,EAAE;EAAE,CAAC;AAEjG,CAAC,EACD;EACIJ,EAAE,EAAE,CAAC;EACLC,QAAQ,EAAE,+CAA+C;EACzDC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,6DAA6D;IAAEC,SAAS,EAAE;EAAE,CAAC,EACtF;IAAED,KAAK,EAAE,oEAAoE;IAAEC,SAAS,EAAE;EAAE,CAAC,EAC7F;IAAED,KAAK,EAAE,+DAA+D;IAAEC,SAAS,EAAE;EAAE,CAAC;AAEhG,CAAC,EACD;EACIJ,EAAE,EAAE,EAAE;EACNC,QAAQ,EAAE,oEAAoE;EAC9EC,MAAM,EAAE,CACJ;IAAEC,KAAK,EAAE,mEAAmE;IAAEC,SAAS,EAAE;EAAE,CAAC,EAC5F;IAAED,KAAK,EAAE,yDAAyD;IAAEC,SAAS,EAAE;EAAE,CAAC,EAClF;IAAED,KAAK,EAAE,qEAAqE;IAAEC,SAAS,EAAE;EAAE,CAAC;AAEtG,CAAC,CACJ;AAED,MAAMC,YAAY,GAAID,SAAS,IAAK;EAChC,IAAIA,SAAS,IAAI,EAAE,EAAE;IACjB,OAAO;MACHE,MAAM,EAAE,yCAAyC;MACjDH,KAAK,EAAE;IACX,CAAC;EACL,CAAC,MAAM,IAAIC,SAAS,IAAI,EAAE,EAAE;IACxB,OAAO;MACHE,MAAM,EAAE,uCAAuC;MAC/CH,KAAK,EAAE;IACX,CAAC;EACL,CAAC,MAAM,IAAIC,SAAS,IAAI,EAAE,EAAE;IACxB,OAAO;MACHE,MAAM,EAAE,4CAA4C;MACpDH,KAAK,EAAE;IACX,CAAC;EACL,CAAC,MAAM;IACH,OAAO;MACHG,MAAM,EAAE,mCAAmC;MAC3CH,KAAK,EAAE;IACX,CAAC;EACL;AACJ,CAAC;AAGD,eAAe,SAASI,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAC3B;EACA,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGrB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACsB,SAAS,EAAEC,YAAY,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAClD,MAAM,CAACwB,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EACtD,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAC9C,MAAM,CAAC4B,cAAc,EAAEC,iBAAiB,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE5D;;EAEA;EACA,MAAM8B,mBAAmB,GAAG,MAAOC,GAAG,IAAK;IACvC,IAAI;MACA,MAAMC,MAAM,GAAG5B,GAAG,CAACD,EAAE,EAAE,cAAc,EAAE4B,GAAG,CAAC;MAC3C,MAAME,OAAO,GAAG,MAAM5B,MAAM,CAAC2B,MAAM,CAAC;MAEpC,IAAIC,OAAO,CAACC,MAAM,CAAC,CAAC,EAAE;QAClB,MAAMC,IAAI,GAAGF,OAAO,CAACE,IAAI,CAAC,CAAC;QAC3B;QACA,MAAMC,gBAAgB,GAAGpB,YAAY,CAACmB,IAAI,CAACE,KAAK,CAAC;QACjDR,iBAAiB,CAAC;UAAE,GAAGM,IAAI;UAAE,GAAGC;QAAiB,CAAC,CAAC;MACvD;IACJ,CAAC,CAAC,OAAOE,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,6CAA6C,EAAEA,KAAK,CAAC;IACvE,CAAC,SAAS;MACNX,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;;EAED;EACA,MAAMa,UAAU,GAAG,MAAAA,CAAOT,GAAG,EAAEU,UAAU,EAAEC,WAAW,KAAK;IACvD,IAAI;MACA,MAAMV,MAAM,GAAG5B,GAAG,CAACD,EAAE,EAAE,cAAc,EAAE4B,GAAG,CAAC;MAC3C,MAAMzB,MAAM,CAAC0B,MAAM,EAAE;QACjBD,GAAG,EAAEA,GAAG;QACRM,KAAK,EAAEI,UAAU;QACjBE,YAAY,EAAED,WAAW,CAACzB,MAAM;QAChC2B,WAAW,EAAEF,WAAW,CAAC5B,KAAK;QAC9B+B,YAAY,EAAE,IAAIC,IAAI,CAAC;MAC3B,CAAC,CAAC;MACF;MACAjB,iBAAiB,CAAC;QACdE,GAAG,EAAEA,GAAG;QAAEM,KAAK,EAAEI,UAAU;QAAEI,YAAY,EAAE,IAAIC,IAAI,CAAC,CAAC;QAAE,GAAGJ;MAC9D,CAAC,CAAC;IACN,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;IAC/D;EACJ,CAAC;;EAED;EACArC,SAAS,CAAC,MAAM;IACZ,MAAM8C,WAAW,GAAGxC,kBAAkB,CAACL,IAAI,EAAG8C,IAAI,IAAK;MACnDvB,cAAc,CAACuB,IAAI,CAAC;MACpB,IAAIA,IAAI,EAAE;QACNlB,mBAAmB,CAACkB,IAAI,CAACjB,GAAG,CAAC;MACjC,CAAC,MAAM;QACHJ,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC,CAAC;IACF,OAAO,MAAMoB,WAAW,CAAC,CAAC;EAC9B,CAAC,EAAE,EAAE,CAAC;;EAGN;;EAEA,MAAME,YAAY,GAAGA,CAACtC,EAAE,EAAEI,SAAS,KAAK;IACpCM,YAAY,CAAC6B,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACvC,EAAE,GAAGI;IAAU,CAAC,CAAC,CAAC;EACxD,CAAC;EAED,MAAMoC,cAAc,GAAGC,MAAM,CAACC,IAAI,CAACjC,SAAS,CAAC,CAACkC,MAAM,KAAK5C,SAAS,CAAC4C,MAAM;EAEzE,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACJ,cAAc,EAAE;MACjBK,KAAK,CAAC,2DAA2D,CAAC;MAClE;IACJ;IAEA,MAAMC,cAAc,GAAGL,MAAM,CAACM,MAAM,CAACtC,SAAS,CAAC,CAACuC,MAAM,CAAC,CAACC,GAAG,EAAEC,YAAY,KAAKD,GAAG,GAAGC,YAAY,EAAE,CAAC,CAAC;IACpG,MAAMnB,WAAW,GAAG1B,YAAY,CAACyC,cAAc,CAAC;IAEhD,IAAIjC,WAAW,EAAE;MACb,MAAMgB,UAAU,CAAChB,WAAW,CAACO,GAAG,EAAE0B,cAAc,EAAEf,WAAW,CAAC;IAClE;;IAEA;IACAnB,YAAY,CAACmB,WAAW,CAAC;EAC7B,CAAC;;EAED;EACA,MAAMoB,iBAAiB,GAAGA,CAAA,KAAM;IAC5BjC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;IACzBN,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;IACpBF,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC;;EAED;;EAEA;EACA,IAAIK,OAAO,EAAE;IACT,oBAAOjB,OAAA;MAAKsD,SAAS,EAAC,gBAAgB;MAAAC,QAAA,eAACvD,OAAA;QAAAuD,QAAA,EAAG;MAA4B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACpF;;EAEA;EACA,IAAIxC,cAAc,IAAI,CAACN,SAAS,EAAE;IAAE;IAChC,oBACIb,OAAA;MAAKsD,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBAClDvD,OAAA;QAAIsD,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAC;MAA0B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChE3D,OAAA;QAAIsD,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAEpC,cAAc,CAACX;MAAM;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC7D3D,OAAA;QAAGsD,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAAEpC,cAAc,CAACd;MAAK;QAAAmD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzD3D,OAAA;QAAKsD,SAAS,EAAC,qBAAqB;QAAAC,QAAA,eACjCvD,OAAA;UAAAuD,QAAA,GAAG,mCAA2B,EAACpC,cAAc,CAACS,KAAK,EAAC,OAAK;QAAA;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3D,CAAC,eACN3D,OAAA;QAAQ4D,OAAO,EAAEP,iBAAkB;QAACC,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAC;MAE1E;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAEd;;EAEA;EACA,IAAI9C,SAAS,EAAE;IACX,MAAMmC,cAAc,GAAGL,MAAM,CAACM,MAAM,CAACtC,SAAS,CAAC,CAACuC,MAAM,CAAC,CAACC,GAAG,EAAEC,YAAY,KAAKD,GAAG,GAAGC,YAAY,EAAE,CAAC,CAAC;IACpG,oBACIpD,OAAA;MAAKsD,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBAClDvD,OAAA;QAAIsD,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAC;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnD3D,OAAA;QAAIsD,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAE1C,SAAS,CAACL;MAAM;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACxD3D,OAAA;QAAGsD,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAAE1C,SAAS,CAACR;MAAK;QAAAmD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpD3D,OAAA;QAAKsD,SAAS,EAAC,qBAAqB;QAAAC,QAAA,eACjCvD,OAAA;UAAAuD,QAAA,GAAG,mCAA2B,EAACP,cAAc,EAAC,OAAK;QAAA;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrD,CAAC,EACL,CAAC5C,WAAW,iBACTf,OAAA;QAAGsD,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAE1B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAEd;;EAEA;EACA,oBACI3D,OAAA;IAAKsD,SAAS,EAAC,6BAA6B;IAAAC,QAAA,gBACxCvD,OAAA;MAAIsD,SAAS,EAAC,mBAAmB;MAAAC,QAAA,EAAC;IAA4B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACnE3D,OAAA;MAAGsD,SAAS,EAAC,kBAAkB;MAAAC,QAAA,EAAC;IAAkJ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAEtL3D,OAAA;MAAM6D,QAAQ,EAAGC,CAAC,IAAK;QAAEA,CAAC,CAACC,cAAc,CAAC,CAAC;QAAEjB,YAAY,CAAC,CAAC;MAAE,CAAE;MAAAS,QAAA,GAC1DtD,SAAS,CAAC+D,GAAG,CAACC,CAAC,iBACZjE,OAAA;QAAgBsD,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBAC3CvD,OAAA;UAAGsD,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAEU,CAAC,CAAC/D,EAAE,EAAC,IAAE,EAAC+D,CAAC,CAAC9D,QAAQ;QAAA;UAAAqD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACrD3D,OAAA;UAAKsD,SAAS,EAAC,eAAe;UAAAC,QAAA,EACzBU,CAAC,CAAC7D,MAAM,CAAC4D,GAAG,CAACE,CAAC,iBACXlE,OAAA;YAAqBsD,SAAS,EAAC,cAAc;YAAAC,QAAA,gBACzCvD,OAAA;cACImE,IAAI,EAAC,OAAO;cACZC,IAAI,EAAE,YAAYH,CAAC,CAAC/D,EAAE,EAAG;cACzBmE,KAAK,EAAEH,CAAC,CAAC5D,SAAU;cACnBgE,QAAQ,EAAEA,CAAA,KAAM9B,YAAY,CAACyB,CAAC,CAAC/D,EAAE,EAAEgE,CAAC,CAAC5D,SAAS,CAAE;cAChDiE,OAAO,EAAE5D,SAAS,CAACsD,CAAC,CAAC/D,EAAE,CAAC,KAAKgE,CAAC,CAAC5D;YAAU;cAAAkD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C,CAAC,eACF3D,OAAA;cAAMsD,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAEW,CAAC,CAAC7D;YAAK;cAAAmD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA,GARtCO,CAAC,CAAC7D,KAAK;YAAAmD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OASZ,CACV;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA,GAfAM,CAAC,CAAC/D,EAAE;QAAAsD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAgBT,CACR,CAAC,eAEF3D,OAAA;QAAAuD,QAAA,eACAvD,OAAA;UACImE,IAAI,EAAC,QAAQ;UACbb,SAAS,EAAC,2BAA2B;UACrCkB,QAAQ,EAAE,CAAC9B,cAAe;UAAAa,QAAA,EAEzBb,cAAc,GAAG,mBAAmB,GAAG,aAAazC,SAAS,CAAC4C,MAAM,GAAGF,MAAM,CAACC,IAAI,CAACjC,SAAS,CAAC,CAACkC,MAAM;QAAsB;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEd;AAACjD,EAAA,CAlLuBD,IAAI;AAAAgE,EAAA,GAAJhE,IAAI;AAAA,IAAAgE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}