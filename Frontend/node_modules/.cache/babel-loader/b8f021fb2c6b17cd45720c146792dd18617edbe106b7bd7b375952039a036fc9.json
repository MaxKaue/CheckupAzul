{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maxka\\\\saude-homem-web\\\\src\\\\pages\\\\Lembretes.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { auth, db, callSendEmailFunction } from \"../services/firebaseService\"; // <<< NOVO: Importa a fun√ß√£o de E-mail\nimport { collection, query, where, getDocs, addDoc, deleteDoc, doc } from \"firebase/firestore\";\nimport \"../styles/Lembretes.css\";\n\n// Fun√ß√£o para formatar a data\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatDate = timestamp => {\n  if (!timestamp) return 'N/A';\n  // O Firestore pode retornar um objeto Timestamp, que tem um m√©todo toDate()\n  const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n  return date.toLocaleDateString('pt-BR');\n};\nexport default function Lembretes() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [lembretes, setLembretes] = useState([]);\n  const [novoLembrete, setNovoLembrete] = useState({\n    tipoExame: '',\n    dataPrevista: ''\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [emailStatus, setEmailStatus] = useState({}); // Para gerenciar status por item\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(currentUser => {\n      if (currentUser) {\n        setUser(currentUser);\n        fetchLembretes(currentUser.uid);\n      } else {\n        setUser(null);\n        setLembretes([]);\n        setLoading(false);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Fun√ß√£o para buscar os lembretes do Firestore\n  const fetchLembretes = async uid => {\n    setLoading(true);\n    setError('');\n    try {\n      const q = query(collection(db, \"lembretes\"), where(\"uidUsuario\", \"==\", uid));\n      const querySnapshot = await getDocs(q);\n      const listaLembretes = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n\n      // Ordena pelo mais pr√≥ximo\n      listaLembretes.sort((a, b) => a.dataPrevista.toDate() - b.dataPrevista.toDate());\n      setLembretes(listaLembretes);\n    } catch (err) {\n      console.error(\"Erro ao buscar lembretes:\", err);\n      setError(\"N√£o foi poss√≠vel carregar seus lembretes.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fun√ß√£o para adicionar um novo lembrete\n  const handleAddLembrete = async e => {\n    e.preventDefault();\n    if (!user || !novoLembrete.tipoExame || !novoLembrete.dataPrevista) {\n      setError(\"Preencha todos os campos.\");\n      return;\n    }\n    try {\n      await addDoc(collection(db, \"lembretes\"), {\n        uidUsuario: user.uid,\n        tipoExame: novoLembrete.tipoExame,\n        // Armazena a data como um objeto Date\n        dataPrevista: new Date(novoLembrete.dataPrevista),\n        dataCriacao: new Date()\n      });\n\n      // Limpa o formul√°rio e recarrega a lista\n      setNovoLembrete({\n        tipoExame: '',\n        dataPrevista: ''\n      });\n      fetchLembretes(user.uid);\n    } catch (err) {\n      console.error(\"Erro ao adicionar lembrete:\", err);\n      setError(\"Erro ao salvar o lembrete.\");\n    }\n  };\n\n  // Fun√ß√£o para remover um lembrete\n  const handleRemoveLembrete = async id => {\n    try {\n      await deleteDoc(doc(db, \"lembretes\", id));\n      fetchLembretes(user.uid); // Recarrega a lista\n    } catch (err) {\n      console.error(\"Erro ao remover lembrete:\", err);\n      setError(\"Erro ao remover o lembrete.\");\n    }\n  };\n\n  // <<< NOVO: Fun√ß√£o para testar o envio de e-mail\n  const handleTestEmail = async lembrete => {\n    if (!user || !user.email) {\n      alert(\"Erro: Usu√°rio n√£o logado ou e-mail indispon√≠vel.\");\n      return;\n    }\n    setEmailStatus(prev => ({\n      ...prev,\n      [lembrete.id]: 'Enviando...'\n    }));\n    const dataPrevistaFormatada = formatDate(lembrete.dataPrevista);\n    const emailBody = `\n            <h2>Lembrete Urgente do Checkup Azul!</h2>\n            <p>Ol√°,</p>\n            <p>Esta √© uma c√≥pia imediata do seu lembrete agendado:</p>\n            \n            <div style=\"padding: 15px; border: 1px solid #0096ff; border-radius: 5px; background-color: #f0f8ff;\">\n                <strong>Exame/Consulta:</strong> ${lembrete.tipoExame}<br/>\n                <strong>Data Prevista:</strong> ${dataPrevistaFormatada}\n            </div>\n            \n            <p>Lembre-se de cuidar da sua sa√∫de preventiva. </p>\n            <p>Atenciosamente, Equipe Checkup Azul.</p>\n        `;\n    try {\n      const response = await callSendEmailFunction({\n        to: user.email,\n        subject: `[TESTE] Lembrete: ${lembrete.tipoExame} (${dataPrevistaFormatada})`,\n        html: emailBody\n      });\n      if (response.data && response.data.success) {\n        setEmailStatus(prev => ({\n          ...prev,\n          [lembrete.id]: 'Enviado!'\n        }));\n      } else {\n        setEmailStatus(prev => ({\n          ...prev,\n          [lembrete.id]: 'Erro no envio.'\n        }));\n      }\n    } catch (error) {\n      console.error(\"Erro na chamada da fun√ß√£o de e-mail:\", error);\n      setEmailStatus(prev => ({\n        ...prev,\n        [lembrete.id]: 'Erro no servidor.'\n      }));\n    }\n  };\n  // Fim da nova fun√ß√£o de e-mail\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-message page-wrapper\",\n      children: \"Carregando lembretes...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 16\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message page-wrapper\",\n      children: \"Voc\\xEA precisa estar logado para gerenciar lembretes.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"lembretes-container page-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCC5 Gerenciador de Exames e Consultas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"instruction\",\n      children: \"Adicione exames preventivos e consultas de rotina para ser lembrado por e-mail.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddLembrete,\n      className: \"lembretes-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Tipo de Exame/Consulta (ex: Checkup Anual)\",\n        value: novoLembrete.tipoExame,\n        onChange: e => setNovoLembrete({\n          ...novoLembrete,\n          tipoExame: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: novoLembrete.dataPrevista,\n        onChange: e => setNovoLembrete({\n          ...novoLembrete,\n          dataPrevista: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"add-button\",\n        children: \"Adicionar Lembrete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lembretes-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Pr\\xF3ximos Lembretes (\", lembretes.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), lembretes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"empty-message\",\n        children: \"Nenhum lembrete agendado. Adicione o seu primeiro!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }, this) : lembretes.map(lembrete => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lembrete-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lembrete-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: lembrete.tipoExame\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Data Prevista:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"lembrete-date\",\n              children: formatDate(lembrete.dataPrevista)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lembrete-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleTestEmail(lembrete),\n            className: \"test-email-button\",\n            disabled: emailStatus[lembrete.id] === 'Enviando...',\n            children: emailStatus[lembrete.id] || 'Testar E-mail'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRemoveLembrete(lembrete.id),\n            className: \"remove-button\",\n            children: \"Remover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 29\n        }, this)]\n      }, lembrete.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 9\n  }, this);\n}\n_s(Lembretes, \"bmkku2IfCRXV+xaVmlEJaRmABy0=\");\n_c = Lembretes;\nvar _c;\n$RefreshReg$(_c, \"Lembretes\");","map":{"version":3,"names":["React","useState","useEffect","auth","db","callSendEmailFunction","collection","query","where","getDocs","addDoc","deleteDoc","doc","jsxDEV","_jsxDEV","formatDate","timestamp","date","toDate","Date","toLocaleDateString","Lembretes","_s","user","setUser","lembretes","setLembretes","novoLembrete","setNovoLembrete","tipoExame","dataPrevista","loading","setLoading","error","setError","emailStatus","setEmailStatus","unsubscribe","onAuthStateChanged","currentUser","fetchLembretes","uid","q","querySnapshot","listaLembretes","docs","map","id","data","sort","a","b","err","console","handleAddLembrete","e","preventDefault","uidUsuario","dataCriacao","handleRemoveLembrete","handleTestEmail","lembrete","email","alert","prev","dataPrevistaFormatada","emailBody","response","to","subject","html","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","length","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/maxka/saude-homem-web/src/pages/Lembretes.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { auth, db, callSendEmailFunction } from \"../services/firebaseService\"; // <<< NOVO: Importa a fun√ß√£o de E-mail\r\nimport { collection, query, where, getDocs, addDoc, deleteDoc, doc } from \"firebase/firestore\";\r\nimport \"../styles/Lembretes.css\";\r\n\r\n// Fun√ß√£o para formatar a data\r\nconst formatDate = (timestamp) => {\r\n    if (!timestamp) return 'N/A';\r\n    // O Firestore pode retornar um objeto Timestamp, que tem um m√©todo toDate()\r\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\r\n    return date.toLocaleDateString('pt-BR');\r\n};\r\n\r\nexport default function Lembretes() {\r\n    const [user, setUser] = useState(null);\r\n    const [lembretes, setLembretes] = useState([]);\r\n    const [novoLembrete, setNovoLembrete] = useState({ tipoExame: '', dataPrevista: '' });\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [emailStatus, setEmailStatus] = useState({}); // Para gerenciar status por item\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged((currentUser) => {\r\n            if (currentUser) {\r\n                setUser(currentUser);\r\n                fetchLembretes(currentUser.uid);\r\n            } else {\r\n                setUser(null);\r\n                setLembretes([]);\r\n                setLoading(false);\r\n            }\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    // Fun√ß√£o para buscar os lembretes do Firestore\r\n    const fetchLembretes = async (uid) => {\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            const q = query(collection(db, \"lembretes\"), where(\"uidUsuario\", \"==\", uid));\r\n            const querySnapshot = await getDocs(q);\r\n            const listaLembretes = querySnapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            }));\r\n            \r\n            // Ordena pelo mais pr√≥ximo\r\n            listaLembretes.sort((a, b) => a.dataPrevista.toDate() - b.dataPrevista.toDate());\r\n\r\n            setLembretes(listaLembretes);\r\n        } catch (err) {\r\n            console.error(\"Erro ao buscar lembretes:\", err);\r\n            setError(\"N√£o foi poss√≠vel carregar seus lembretes.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Fun√ß√£o para adicionar um novo lembrete\r\n    const handleAddLembrete = async (e) => {\r\n        e.preventDefault();\r\n        if (!user || !novoLembrete.tipoExame || !novoLembrete.dataPrevista) {\r\n            setError(\"Preencha todos os campos.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await addDoc(collection(db, \"lembretes\"), {\r\n                uidUsuario: user.uid,\r\n                tipoExame: novoLembrete.tipoExame,\r\n                // Armazena a data como um objeto Date\r\n                dataPrevista: new Date(novoLembrete.dataPrevista), \r\n                dataCriacao: new Date()\r\n            });\r\n\r\n            // Limpa o formul√°rio e recarrega a lista\r\n            setNovoLembrete({ tipoExame: '', dataPrevista: '' });\r\n            fetchLembretes(user.uid);\r\n        } catch (err) {\r\n            console.error(\"Erro ao adicionar lembrete:\", err);\r\n            setError(\"Erro ao salvar o lembrete.\");\r\n        }\r\n    };\r\n\r\n    // Fun√ß√£o para remover um lembrete\r\n    const handleRemoveLembrete = async (id) => {\r\n        try {\r\n            await deleteDoc(doc(db, \"lembretes\", id));\r\n            fetchLembretes(user.uid); // Recarrega a lista\r\n        } catch (err) {\r\n            console.error(\"Erro ao remover lembrete:\", err);\r\n            setError(\"Erro ao remover o lembrete.\");\r\n        }\r\n    };\r\n    \r\n    // <<< NOVO: Fun√ß√£o para testar o envio de e-mail\r\n    const handleTestEmail = async (lembrete) => {\r\n        if (!user || !user.email) {\r\n            alert(\"Erro: Usu√°rio n√£o logado ou e-mail indispon√≠vel.\");\r\n            return;\r\n        }\r\n\r\n        setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Enviando...' }));\r\n\r\n        const dataPrevistaFormatada = formatDate(lembrete.dataPrevista);\r\n\r\n        const emailBody = `\r\n            <h2>Lembrete Urgente do Checkup Azul!</h2>\r\n            <p>Ol√°,</p>\r\n            <p>Esta √© uma c√≥pia imediata do seu lembrete agendado:</p>\r\n            \r\n            <div style=\"padding: 15px; border: 1px solid #0096ff; border-radius: 5px; background-color: #f0f8ff;\">\r\n                <strong>Exame/Consulta:</strong> ${lembrete.tipoExame}<br/>\r\n                <strong>Data Prevista:</strong> ${dataPrevistaFormatada}\r\n            </div>\r\n            \r\n            <p>Lembre-se de cuidar da sua sa√∫de preventiva. </p>\r\n            <p>Atenciosamente, Equipe Checkup Azul.</p>\r\n        `;\r\n        \r\n        try {\r\n            const response = await callSendEmailFunction({\r\n                to: user.email,\r\n                subject: `[TESTE] Lembrete: ${lembrete.tipoExame} (${dataPrevistaFormatada})`,\r\n                html: emailBody\r\n            });\r\n\r\n            if (response.data && response.data.success) {\r\n                setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Enviado!' }));\r\n            } else {\r\n                setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Erro no envio.' }));\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Erro na chamada da fun√ß√£o de e-mail:\", error);\r\n            setEmailStatus(prev => ({ ...prev, [lembrete.id]: 'Erro no servidor.' }));\r\n        }\r\n    };\r\n    // Fim da nova fun√ß√£o de e-mail\r\n\r\n    if (loading) {\r\n        return <div className=\"loading-message page-wrapper\">Carregando lembretes...</div>;\r\n    }\r\n\r\n    if (!user) {\r\n        return <div className=\"error-message page-wrapper\">Voc√™ precisa estar logado para gerenciar lembretes.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"lembretes-container page-wrapper\">\r\n            <h2>üìÖ Gerenciador de Exames e Consultas</h2>\r\n            <p className=\"instruction\">Adicione exames preventivos e consultas de rotina para ser lembrado por e-mail.</p>\r\n\r\n            {error && <div className=\"error-message\">{error}</div>}\r\n\r\n            {/* Formul√°rio para Adicionar Lembrete */}\r\n            <form onSubmit={handleAddLembrete} className=\"lembretes-form\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Tipo de Exame/Consulta (ex: Checkup Anual)\"\r\n                    value={novoLembrete.tipoExame}\r\n                    onChange={(e) => setNovoLembrete({ ...novoLembrete, tipoExame: e.target.value })}\r\n                    required\r\n                />\r\n                <input\r\n                    type=\"date\"\r\n                    value={novoLembrete.dataPrevista}\r\n                    onChange={(e) => setNovoLembrete({ ...novoLembrete, dataPrevista: e.target.value })}\r\n                    required\r\n                />\r\n                <button type=\"submit\" className=\"add-button\">Adicionar Lembrete</button>\r\n            </form>\r\n\r\n            {/* Lista de Lembretes */}\r\n            <div className=\"lembretes-list\">\r\n                <h3>Pr√≥ximos Lembretes ({lembretes.length})</h3>\r\n                {lembretes.length === 0 ? (\r\n                    <p className=\"empty-message\">Nenhum lembrete agendado. Adicione o seu primeiro!</p>\r\n                ) : (\r\n                    lembretes.map((lembrete) => (\r\n                        <div key={lembrete.id} className=\"lembrete-item\">\r\n                            <div className=\"lembrete-info\">\r\n                                <h4>{lembrete.tipoExame}</h4>\r\n                                <p>Data Prevista: \r\n                                    <span className=\"lembrete-date\">\r\n                                        {formatDate(lembrete.dataPrevista)}\r\n                                    </span>\r\n                                </p>\r\n                            </div>\r\n                            \r\n                            {/* CONTROLES E ESTATUS */}\r\n                            <div className=\"lembrete-actions\">\r\n                                {/* NOVO: Bot√£o de Teste de E-mail */}\r\n                                <button\r\n                                    onClick={() => handleTestEmail(lembrete)}\r\n                                    className=\"test-email-button\"\r\n                                    disabled={emailStatus[lembrete.id] === 'Enviando...'}\r\n                                >\r\n                                    {emailStatus[lembrete.id] || 'Testar E-mail'}\r\n                                </button>\r\n                                \r\n                                <button \r\n                                    onClick={() => handleRemoveLembrete(lembrete.id)} \r\n                                    className=\"remove-button\"\r\n                                >\r\n                                    Remover\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,EAAE,EAAEC,qBAAqB,QAAQ,6BAA6B,CAAC,CAAC;AAC/E,SAASC,UAAU,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,SAAS,EAAEC,GAAG,QAAQ,oBAAoB;AAC9F,OAAO,yBAAyB;;AAEhC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,UAAU,GAAIC,SAAS,IAAK;EAC9B,IAAI,CAACA,SAAS,EAAE,OAAO,KAAK;EAC5B;EACA,MAAMC,IAAI,GAAGD,SAAS,CAACE,MAAM,GAAGF,SAAS,CAACE,MAAM,CAAC,CAAC,GAAG,IAAIC,IAAI,CAACH,SAAS,CAAC;EACxE,OAAOC,IAAI,CAACG,kBAAkB,CAAC,OAAO,CAAC;AAC3C,CAAC;AAED,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACwB,SAAS,EAAEC,YAAY,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC0B,YAAY,EAAEC,eAAe,CAAC,GAAG3B,QAAQ,CAAC;IAAE4B,SAAS,EAAE,EAAE;IAAEC,YAAY,EAAE;EAAG,CAAC,CAAC;EACrF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG/B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACgC,KAAK,EAAEC,QAAQ,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkC,WAAW,EAAEC,cAAc,CAAC,GAAGnC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEpDC,SAAS,CAAC,MAAM;IACZ,MAAMmC,WAAW,GAAGlC,IAAI,CAACmC,kBAAkB,CAAEC,WAAW,IAAK;MACzD,IAAIA,WAAW,EAAE;QACbf,OAAO,CAACe,WAAW,CAAC;QACpBC,cAAc,CAACD,WAAW,CAACE,GAAG,CAAC;MACnC,CAAC,MAAM;QACHjB,OAAO,CAAC,IAAI,CAAC;QACbE,YAAY,CAAC,EAAE,CAAC;QAChBM,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC,CAAC;IAEF,OAAO,MAAMK,WAAW,CAAC,CAAC;EAC9B,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMG,cAAc,GAAG,MAAOC,GAAG,IAAK;IAClCT,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,EAAE,CAAC;IACZ,IAAI;MACA,MAAMQ,CAAC,GAAGnC,KAAK,CAACD,UAAU,CAACF,EAAE,EAAE,WAAW,CAAC,EAAEI,KAAK,CAAC,YAAY,EAAE,IAAI,EAAEiC,GAAG,CAAC,CAAC;MAC5E,MAAME,aAAa,GAAG,MAAMlC,OAAO,CAACiC,CAAC,CAAC;MACtC,MAAME,cAAc,GAAGD,aAAa,CAACE,IAAI,CAACC,GAAG,CAAClC,GAAG,KAAK;QAClDmC,EAAE,EAAEnC,GAAG,CAACmC,EAAE;QACV,GAAGnC,GAAG,CAACoC,IAAI,CAAC;MAChB,CAAC,CAAC,CAAC;;MAEH;MACAJ,cAAc,CAACK,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACpB,YAAY,CAACZ,MAAM,CAAC,CAAC,GAAGiC,CAAC,CAACrB,YAAY,CAACZ,MAAM,CAAC,CAAC,CAAC;MAEhFQ,YAAY,CAACkB,cAAc,CAAC;IAChC,CAAC,CAAC,OAAOQ,GAAG,EAAE;MACVC,OAAO,CAACpB,KAAK,CAAC,2BAA2B,EAAEmB,GAAG,CAAC;MAC/ClB,QAAQ,CAAC,2CAA2C,CAAC;IACzD,CAAC,SAAS;MACNF,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;;EAED;EACA,MAAMsB,iBAAiB,GAAG,MAAOC,CAAC,IAAK;IACnCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACjC,IAAI,IAAI,CAACI,YAAY,CAACE,SAAS,IAAI,CAACF,YAAY,CAACG,YAAY,EAAE;MAChEI,QAAQ,CAAC,2BAA2B,CAAC;MACrC;IACJ;IAEA,IAAI;MACA,MAAMxB,MAAM,CAACJ,UAAU,CAACF,EAAE,EAAE,WAAW,CAAC,EAAE;QACtCqD,UAAU,EAAElC,IAAI,CAACkB,GAAG;QACpBZ,SAAS,EAAEF,YAAY,CAACE,SAAS;QACjC;QACAC,YAAY,EAAE,IAAIX,IAAI,CAACQ,YAAY,CAACG,YAAY,CAAC;QACjD4B,WAAW,EAAE,IAAIvC,IAAI,CAAC;MAC1B,CAAC,CAAC;;MAEF;MACAS,eAAe,CAAC;QAAEC,SAAS,EAAE,EAAE;QAAEC,YAAY,EAAE;MAAG,CAAC,CAAC;MACpDU,cAAc,CAACjB,IAAI,CAACkB,GAAG,CAAC;IAC5B,CAAC,CAAC,OAAOW,GAAG,EAAE;MACVC,OAAO,CAACpB,KAAK,CAAC,6BAA6B,EAAEmB,GAAG,CAAC;MACjDlB,QAAQ,CAAC,4BAA4B,CAAC;IAC1C;EACJ,CAAC;;EAED;EACA,MAAMyB,oBAAoB,GAAG,MAAOZ,EAAE,IAAK;IACvC,IAAI;MACA,MAAMpC,SAAS,CAACC,GAAG,CAACR,EAAE,EAAE,WAAW,EAAE2C,EAAE,CAAC,CAAC;MACzCP,cAAc,CAACjB,IAAI,CAACkB,GAAG,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOW,GAAG,EAAE;MACVC,OAAO,CAACpB,KAAK,CAAC,2BAA2B,EAAEmB,GAAG,CAAC;MAC/ClB,QAAQ,CAAC,6BAA6B,CAAC;IAC3C;EACJ,CAAC;;EAED;EACA,MAAM0B,eAAe,GAAG,MAAOC,QAAQ,IAAK;IACxC,IAAI,CAACtC,IAAI,IAAI,CAACA,IAAI,CAACuC,KAAK,EAAE;MACtBC,KAAK,CAAC,kDAAkD,CAAC;MACzD;IACJ;IAEA3B,cAAc,CAAC4B,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACH,QAAQ,CAACd,EAAE,GAAG;IAAc,CAAC,CAAC,CAAC;IAEnE,MAAMkB,qBAAqB,GAAGlD,UAAU,CAAC8C,QAAQ,CAAC/B,YAAY,CAAC;IAE/D,MAAMoC,SAAS,GAAG;AAC1B;AACA;AACA;AACA;AACA;AACA,mDAAmDL,QAAQ,CAAChC,SAAS;AACrE,kDAAkDoC,qBAAqB;AACvE;AACA;AACA;AACA;AACA,SAAS;IAED,IAAI;MACA,MAAME,QAAQ,GAAG,MAAM9D,qBAAqB,CAAC;QACzC+D,EAAE,EAAE7C,IAAI,CAACuC,KAAK;QACdO,OAAO,EAAE,qBAAqBR,QAAQ,CAAChC,SAAS,KAAKoC,qBAAqB,GAAG;QAC7EK,IAAI,EAAEJ;MACV,CAAC,CAAC;MAEF,IAAIC,QAAQ,CAACnB,IAAI,IAAImB,QAAQ,CAACnB,IAAI,CAACuB,OAAO,EAAE;QACxCnC,cAAc,CAAC4B,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAE,CAACH,QAAQ,CAACd,EAAE,GAAG;QAAW,CAAC,CAAC,CAAC;MACpE,CAAC,MAAM;QACHX,cAAc,CAAC4B,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAE,CAACH,QAAQ,CAACd,EAAE,GAAG;QAAiB,CAAC,CAAC,CAAC;MAC1E;IACJ,CAAC,CAAC,OAAOd,KAAK,EAAE;MACZoB,OAAO,CAACpB,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC5DG,cAAc,CAAC4B,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE,CAACH,QAAQ,CAACd,EAAE,GAAG;MAAoB,CAAC,CAAC,CAAC;IAC7E;EACJ,CAAC;EACD;;EAEA,IAAIhB,OAAO,EAAE;IACT,oBAAOjB,OAAA;MAAK0D,SAAS,EAAC,8BAA8B;MAAAC,QAAA,EAAC;IAAuB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACtF;EAEA,IAAI,CAACtD,IAAI,EAAE;IACP,oBAAOT,OAAA;MAAK0D,SAAS,EAAC,4BAA4B;MAAAC,QAAA,EAAC;IAAmD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAChH;EAEA,oBACI/D,OAAA;IAAK0D,SAAS,EAAC,kCAAkC;IAAAC,QAAA,gBAC7C3D,OAAA;MAAA2D,QAAA,EAAI;IAAoC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7C/D,OAAA;MAAG0D,SAAS,EAAC,aAAa;MAAAC,QAAA,EAAC;IAA+E;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAE7G5C,KAAK,iBAAInB,OAAA;MAAK0D,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAExC;IAAK;MAAAyC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAGtD/D,OAAA;MAAMgE,QAAQ,EAAExB,iBAAkB;MAACkB,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBACzD3D,OAAA;QACIiE,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,4CAA4C;QACxDC,KAAK,EAAEtD,YAAY,CAACE,SAAU;QAC9BqD,QAAQ,EAAG3B,CAAC,IAAK3B,eAAe,CAAC;UAAE,GAAGD,YAAY;UAAEE,SAAS,EAAE0B,CAAC,CAAC4B,MAAM,CAACF;QAAM,CAAC,CAAE;QACjFG,QAAQ;MAAA;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX,CAAC,eACF/D,OAAA;QACIiE,IAAI,EAAC,MAAM;QACXE,KAAK,EAAEtD,YAAY,CAACG,YAAa;QACjCoD,QAAQ,EAAG3B,CAAC,IAAK3B,eAAe,CAAC;UAAE,GAAGD,YAAY;UAAEG,YAAY,EAAEyB,CAAC,CAAC4B,MAAM,CAACF;QAAM,CAAC,CAAE;QACpFG,QAAQ;MAAA;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX,CAAC,eACF/D,OAAA;QAAQiE,IAAI,EAAC,QAAQ;QAACP,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAC;MAAkB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtE,CAAC,eAGP/D,OAAA;MAAK0D,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC3B3D,OAAA;QAAA2D,QAAA,GAAI,yBAAoB,EAAChD,SAAS,CAAC4D,MAAM,EAAC,GAAC;MAAA;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC/CpD,SAAS,CAAC4D,MAAM,KAAK,CAAC,gBACnBvE,OAAA;QAAG0D,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAC;MAAkD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,GAEnFpD,SAAS,CAACqB,GAAG,CAAEe,QAAQ,iBACnB/C,OAAA;QAAuB0D,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5C3D,OAAA;UAAK0D,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC1B3D,OAAA;YAAA2D,QAAA,EAAKZ,QAAQ,CAAChC;UAAS;YAAA6C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC7B/D,OAAA;YAAA2D,QAAA,GAAG,gBACC,eAAA3D,OAAA;cAAM0D,SAAS,EAAC,eAAe;cAAAC,QAAA,EAC1B1D,UAAU,CAAC8C,QAAQ,CAAC/B,YAAY;YAAC;cAAA4C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN/D,OAAA;UAAK0D,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAE7B3D,OAAA;YACIwE,OAAO,EAAEA,CAAA,KAAM1B,eAAe,CAACC,QAAQ,CAAE;YACzCW,SAAS,EAAC,mBAAmB;YAC7Be,QAAQ,EAAEpD,WAAW,CAAC0B,QAAQ,CAACd,EAAE,CAAC,KAAK,aAAc;YAAA0B,QAAA,EAEpDtC,WAAW,CAAC0B,QAAQ,CAACd,EAAE,CAAC,IAAI;UAAe;YAAA2B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC,eAET/D,OAAA;YACIwE,OAAO,EAAEA,CAAA,KAAM3B,oBAAoB,CAACE,QAAQ,CAACd,EAAE,CAAE;YACjDyB,SAAS,EAAC,eAAe;YAAAC,QAAA,EAC5B;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC;MAAA,GA3BAhB,QAAQ,CAACd,EAAE;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA4BhB,CACR,CACJ;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACvD,EAAA,CA1MuBD,SAAS;AAAAmE,EAAA,GAATnE,SAAS;AAAA,IAAAmE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}