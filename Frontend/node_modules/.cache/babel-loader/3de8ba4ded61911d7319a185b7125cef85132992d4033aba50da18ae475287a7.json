{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maxka\\\\saude-homem-web\\\\src\\\\index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./styles/App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(/*#__PURE__*/_jsxDEV(React.StrictMode, {\n  children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 3\n}, this));\nconst nodemailer = require('nodemailer');\n\n// ⚠️ IMPORTANTE: Configure suas credenciais de e-mail de serviço.\n// Use as configurações do Firebase Environment Configuration (firebase functions:config:set)\n// Por exemplo, se você usar o Gmail, use:\n// firebase functions:config:set email.user=\"seu-email-aqui\" email.pass=\"sua-senha-aqui\"\nconst mailTransport = nodemailer.createTransport({\n  // Exemplo usando GMAIL, mas recomendamos SendGrid ou outro serviço\n  service: 'gmail',\n  auth: {\n    user: functions.config().email.user,\n    pass: functions.config().email.pass\n  }\n});\n\n/**\n * Função chamável que envia um e-mail.\n * Usada para enviar resultados do Quiz ou lembretes.\n * @param {object} data - Contém to, subject, html\n */\nexports.sendEmail = functions.https.onCall(async (data, context) => {\n  // 1. Verifica se o usuário está autenticado (segurança)\n  if (!context.auth) {\n    throw new functions.https.HttpsError('unauthenticated', 'A função de e-mail só pode ser chamada por um usuário autenticado.');\n  }\n\n  // 2. Define o conteúdo do e-mail\n  const mailOptions = {\n    from: `Checkup Azul <${functions.config().email.user}>`,\n    // Remetente\n    to: data.to,\n    // Destinatário\n    subject: data.subject,\n    // Assunto\n    html: data.html // Corpo do e-mail (HTML para formatação)\n  };\n  try {\n    await mailTransport.sendMail(mailOptions);\n    console.log(`E-mail enviado com sucesso para: ${data.to}`);\n    return {\n      success: true\n    };\n  } catch (error) {\n    console.error('Erro ao enviar e-mail:', error);\n    throw new functions.https.HttpsError('internal', 'Falha no envio do e-mail.', error.message);\n  }\n});","map":{"version":3,"names":["React","ReactDOM","App","jsxDEV","_jsxDEV","root","createRoot","document","getElementById","render","StrictMode","children","fileName","_jsxFileName","lineNumber","columnNumber","nodemailer","require","mailTransport","createTransport","service","auth","user","functions","config","email","pass","exports","sendEmail","https","onCall","data","context","HttpsError","mailOptions","from","to","subject","html","sendMail","console","log","success","error","message"],"sources":["C:/Users/maxka/saude-homem-web/src/index.js"],"sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./styles/App.css\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n\nconst nodemailer = require('nodemailer');\n\n// ⚠️ IMPORTANTE: Configure suas credenciais de e-mail de serviço.\n// Use as configurações do Firebase Environment Configuration (firebase functions:config:set)\n// Por exemplo, se você usar o Gmail, use:\n// firebase functions:config:set email.user=\"seu-email-aqui\" email.pass=\"sua-senha-aqui\"\nconst mailTransport = nodemailer.createTransport({\n    // Exemplo usando GMAIL, mas recomendamos SendGrid ou outro serviço\n    service: 'gmail', \n    auth: {\n        user: functions.config().email.user,\n        pass: functions.config().email.pass,\n    },\n});\n\n\n/**\n * Função chamável que envia um e-mail.\n * Usada para enviar resultados do Quiz ou lembretes.\n * @param {object} data - Contém to, subject, html\n */\nexports.sendEmail = functions.https.onCall(async (data, context) => {\n    // 1. Verifica se o usuário está autenticado (segurança)\n    if (!context.auth) {\n        throw new functions.https.HttpsError(\n            'unauthenticated', \n            'A função de e-mail só pode ser chamada por um usuário autenticado.'\n        );\n    }\n    \n    // 2. Define o conteúdo do e-mail\n    const mailOptions = {\n        from: `Checkup Azul <${functions.config().email.user}>`, // Remetente\n        to: data.to,           // Destinatário\n        subject: data.subject, // Assunto\n        html: data.html,       // Corpo do e-mail (HTML para formatação)\n    };\n\n    try {\n        await mailTransport.sendMail(mailOptions);\n        console.log(`E-mail enviado com sucesso para: ${data.to}`);\n        return { success: true };\n    } catch (error) {\n        console.error('Erro ao enviar e-mail:', error);\n        throw new functions.https.HttpsError(\n            'internal', \n            'Falha no envio do e-mail.', \n            error.message\n        );\n    }\n});"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,GAAG,MAAM,OAAO;AACvB,OAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,IAAI,GAAGJ,QAAQ,CAACK,UAAU,CAACC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC;AACjEH,IAAI,CAACI,MAAM,cACTL,OAAA,CAACJ,KAAK,CAACU,UAAU;EAAAC,QAAA,eACfP,OAAA,CAACF,GAAG;IAAAU,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACS,CACpB,CAAC;AAGD,MAAMC,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC;;AAExC;AACA;AACA;AACA;AACA,MAAMC,aAAa,GAAGF,UAAU,CAACG,eAAe,CAAC;EAC7C;EACAC,OAAO,EAAE,OAAO;EAChBC,IAAI,EAAE;IACFC,IAAI,EAAEC,SAAS,CAACC,MAAM,CAAC,CAAC,CAACC,KAAK,CAACH,IAAI;IACnCI,IAAI,EAAEH,SAAS,CAACC,MAAM,CAAC,CAAC,CAACC,KAAK,CAACC;EACnC;AACJ,CAAC,CAAC;;AAGF;AACA;AACA;AACA;AACA;AACAC,OAAO,CAACC,SAAS,GAAGL,SAAS,CAACM,KAAK,CAACC,MAAM,CAAC,OAAOC,IAAI,EAAEC,OAAO,KAAK;EAChE;EACA,IAAI,CAACA,OAAO,CAACX,IAAI,EAAE;IACf,MAAM,IAAIE,SAAS,CAACM,KAAK,CAACI,UAAU,CAChC,iBAAiB,EACjB,oEACJ,CAAC;EACL;;EAEA;EACA,MAAMC,WAAW,GAAG;IAChBC,IAAI,EAAE,iBAAiBZ,SAAS,CAACC,MAAM,CAAC,CAAC,CAACC,KAAK,CAACH,IAAI,GAAG;IAAE;IACzDc,EAAE,EAAEL,IAAI,CAACK,EAAE;IAAY;IACvBC,OAAO,EAAEN,IAAI,CAACM,OAAO;IAAE;IACvBC,IAAI,EAAEP,IAAI,CAACO,IAAI,CAAQ;EAC3B,CAAC;EAED,IAAI;IACA,MAAMpB,aAAa,CAACqB,QAAQ,CAACL,WAAW,CAAC;IACzCM,OAAO,CAACC,GAAG,CAAC,oCAAoCV,IAAI,CAACK,EAAE,EAAE,CAAC;IAC1D,OAAO;MAAEM,OAAO,EAAE;IAAK,CAAC;EAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZH,OAAO,CAACG,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,MAAM,IAAIpB,SAAS,CAACM,KAAK,CAACI,UAAU,CAChC,UAAU,EACV,2BAA2B,EAC3BU,KAAK,CAACC,OACV,CAAC;EACL;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}