{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maxka\\\\saude-homem-web\\\\src\\\\components\\\\Quiz.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"../styles/Quiz.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Quiz() {\n  _s();\n  const perguntas = [{\n    pergunta: \"Você realiza exames preventivos regularmente?\",\n    opcoes: [{\n      texto: \"Sim, todos os anos.\",\n      valor: 3\n    }, {\n      texto: \"Às vezes, quando lembro.\",\n      valor: 1\n    }, {\n      texto: \"Não costumo fazer exames.\",\n      valor: 0\n    }]\n  }, {\n    pergunta: \"Com que frequência você pratica atividades físicas?\",\n    opcoes: [{\n      texto: \"Pelo menos 3 vezes por semana.\",\n      valor: 3\n    }, {\n      texto: \"De vez em quando.\",\n      valor: 1\n    }, {\n      texto: \"Quase nunca ou nunca.\",\n      valor: 0\n    }]\n  }, {\n    pergunta: \"Como está sua alimentação diária?\",\n    opcoes: [{\n      texto: \"Equilibrada e saudável.\",\n      valor: 3\n    }, {\n      texto: \"Poderia melhorar um pouco.\",\n      valor: 1\n    }, {\n      texto: \"Bem desregulada.\",\n      valor: 0\n    }]\n  }, {\n    pergunta: \"Você faz uso de cigarro, álcool ou outras substâncias?\",\n    opcoes: [{\n      texto: \"Não, evito completamente.\",\n      valor: 3\n    }, {\n      texto: \"Uso socialmente.\",\n      valor: 1\n    }, {\n      texto: \"Sim, com frequência.\",\n      valor: 0\n    }]\n  }, {\n    pergunta: \"Como você avaliaria seu nível de estresse atualmente?\",\n    opcoes: [{\n      texto: \"Baixo, estou bem tranquilo.\",\n      valor: 3\n    }, {\n      texto: \"Moderado, às vezes me sinto sobrecarregado.\",\n      valor: 1\n    }, {\n      texto: \"Alto, me sinto estressado quase sempre.\",\n      valor: 0\n    }]\n  }];\n  const [etapa, setEtapa] = useState(0);\n  const [pontuacaoTotal, setPontuacaoTotal] = useState(0);\n  const [respostas, setRespostas] = useState({});\n  const [finalResult, setFinalResult] = useState(null);\n  const handleResposta = valor => {\n    const novaPontuacao = pontuacaoTotal + valor;\n    const novasRespostas = {\n      ...respostas,\n      [etapa]: valor\n    };\n    setPontuacaoTotal(novaPontuacao);\n    setRespostas(novasRespostas);\n    if (etapa + 1 < perguntas.length) {\n      setEtapa(etapa + 1);\n    } else {\n      calcularResultado(novaPontuacao, novasRespostas);\n    }\n  };\n  const calcularResultado = async (pontuacao, respostasUsuario) => {\n    let titulo = \"\";\n    let texto = \"\";\n    if (pontuacao >= 13) {\n      titulo = \"Excelente!\";\n      texto = \"Você demonstra ótimos hábitos de saúde. Continue assim!\";\n    } else if (pontuacao >= 7) {\n      titulo = \"Caminho certo!\";\n      texto = \"Você tem bons hábitos, mas ainda pode melhorar alguns pontos.\";\n    } else {\n      titulo = \"Atenção!\";\n      texto = \"É importante cuidar melhor da sua saúde. Busque orientação médica.\";\n    }\n    const resultadoFinal = {\n      titulo,\n      texto\n    };\n    setFinalResult(resultadoFinal);\n    try {\n      const userId = localStorage.getItem(\"user_id\");\n      const response = await fetch(\"http://localhost:3000/quiz_results\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user_id: userId,\n          respostas: respostasUsuario,\n          score: pontuacao,\n          result_title: titulo,\n          result_text: texto\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Erro ao salvar resultado no servidor.\");\n      }\n      console.log(\"✅ Resultado salvo com sucesso!\");\n    } catch (error) {\n      console.error(\"❌ Erro ao salvar resultado:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quiz-container\",\n    children: !finalResult ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-pergunta\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: perguntas[etapa].pergunta\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-opcoes\",\n        children: perguntas[etapa].opcoes.map((opcao, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleResposta(opcao.valor),\n          className: \"quiz-botao\",\n          children: opcao.texto\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"quiz-progresso\",\n        children: [\"Pergunta \", etapa + 1, \" de \", perguntas.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-resultado\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: finalResult.titulo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: finalResult.texto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"quiz-score\",\n        children: [\"Pontua\\xE7\\xE3o total: \", pontuacaoTotal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n_s(Quiz, \"yqdzYust/OUE3DyV46GpaMGePwo=\");\n_c = Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Quiz","_s","perguntas","pergunta","opcoes","texto","valor","etapa","setEtapa","pontuacaoTotal","setPontuacaoTotal","respostas","setRespostas","finalResult","setFinalResult","handleResposta","novaPontuacao","novasRespostas","length","calcularResultado","pontuacao","respostasUsuario","titulo","resultadoFinal","userId","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","user_id","score","result_title","result_text","ok","Error","console","log","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","opcao","index","onClick","_c","$RefreshReg$"],"sources":["C:/Users/maxka/saude-homem-web/src/components/Quiz.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../styles/Quiz.css\";\r\n\r\nexport default function Quiz() {\r\n  const perguntas = [\r\n    {\r\n      pergunta: \"Você realiza exames preventivos regularmente?\",\r\n      opcoes: [\r\n        { texto: \"Sim, todos os anos.\", valor: 3 },\r\n        { texto: \"Às vezes, quando lembro.\", valor: 1 },\r\n        { texto: \"Não costumo fazer exames.\", valor: 0 },\r\n      ],\r\n    },\r\n    {\r\n      pergunta: \"Com que frequência você pratica atividades físicas?\",\r\n      opcoes: [\r\n        { texto: \"Pelo menos 3 vezes por semana.\", valor: 3 },\r\n        { texto: \"De vez em quando.\", valor: 1 },\r\n        { texto: \"Quase nunca ou nunca.\", valor: 0 },\r\n      ],\r\n    },\r\n    {\r\n      pergunta: \"Como está sua alimentação diária?\",\r\n      opcoes: [\r\n        { texto: \"Equilibrada e saudável.\", valor: 3 },\r\n        { texto: \"Poderia melhorar um pouco.\", valor: 1 },\r\n        { texto: \"Bem desregulada.\", valor: 0 },\r\n      ],\r\n    },\r\n    {\r\n      pergunta: \"Você faz uso de cigarro, álcool ou outras substâncias?\",\r\n      opcoes: [\r\n        { texto: \"Não, evito completamente.\", valor: 3 },\r\n        { texto: \"Uso socialmente.\", valor: 1 },\r\n        { texto: \"Sim, com frequência.\", valor: 0 },\r\n      ],\r\n    },\r\n    {\r\n      pergunta: \"Como você avaliaria seu nível de estresse atualmente?\",\r\n      opcoes: [\r\n        { texto: \"Baixo, estou bem tranquilo.\", valor: 3 },\r\n        { texto: \"Moderado, às vezes me sinto sobrecarregado.\", valor: 1 },\r\n        { texto: \"Alto, me sinto estressado quase sempre.\", valor: 0 },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const [etapa, setEtapa] = useState(0);\r\n  const [pontuacaoTotal, setPontuacaoTotal] = useState(0);\r\n  const [respostas, setRespostas] = useState({});\r\n  const [finalResult, setFinalResult] = useState(null);\r\n\r\n  const handleResposta = (valor) => {\r\n    const novaPontuacao = pontuacaoTotal + valor;\r\n    const novasRespostas = { ...respostas, [etapa]: valor };\r\n    setPontuacaoTotal(novaPontuacao);\r\n    setRespostas(novasRespostas);\r\n\r\n    if (etapa + 1 < perguntas.length) {\r\n      setEtapa(etapa + 1);\r\n    } else {\r\n      calcularResultado(novaPontuacao, novasRespostas);\r\n    }\r\n  };\r\n\r\n  const calcularResultado = async (pontuacao, respostasUsuario) => {\r\n    let titulo = \"\";\r\n    let texto = \"\";\r\n\r\n    if (pontuacao >= 13) {\r\n      titulo = \"Excelente!\";\r\n      texto = \"Você demonstra ótimos hábitos de saúde. Continue assim!\";\r\n    } else if (pontuacao >= 7) {\r\n      titulo = \"Caminho certo!\";\r\n      texto = \"Você tem bons hábitos, mas ainda pode melhorar alguns pontos.\";\r\n    } else {\r\n      titulo = \"Atenção!\";\r\n      texto = \"É importante cuidar melhor da sua saúde. Busque orientação médica.\";\r\n    }\r\n\r\n    const resultadoFinal = { titulo, texto };\r\n    setFinalResult(resultadoFinal);\r\n\r\n    try {\r\n      const userId = localStorage.getItem(\"user_id\");\r\n\r\n      const response = await fetch(\"http://localhost:3000/quiz_results\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          user_id: userId,\r\n          respostas: respostasUsuario,\r\n          score: pontuacao,\r\n          result_title: titulo,\r\n          result_text: texto,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Erro ao salvar resultado no servidor.\");\r\n      }\r\n\r\n      console.log(\"✅ Resultado salvo com sucesso!\");\r\n    } catch (error) {\r\n      console.error(\"❌ Erro ao salvar resultado:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"quiz-container\">\r\n      {!finalResult ? (\r\n        <div className=\"quiz-pergunta\">\r\n          <h2>{perguntas[etapa].pergunta}</h2>\r\n          <div className=\"quiz-opcoes\">\r\n            {perguntas[etapa].opcoes.map((opcao, index) => (\r\n              <button\r\n                key={index}\r\n                onClick={() => handleResposta(opcao.valor)}\r\n                className=\"quiz-botao\"\r\n              >\r\n                {opcao.texto}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <p className=\"quiz-progresso\">\r\n            Pergunta {etapa + 1} de {perguntas.length}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"quiz-resultado\">\r\n          <h2>{finalResult.titulo}</h2>\r\n          <p>{finalResult.texto}</p>\r\n          <p className=\"quiz-score\">Pontuação total: {pontuacaoTotal}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}