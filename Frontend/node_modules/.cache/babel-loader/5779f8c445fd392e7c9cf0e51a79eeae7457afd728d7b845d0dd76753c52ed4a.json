{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maxka\\\\saude-homem-web\\\\src\\\\components\\\\Humor.js\",\n  _s = $RefreshSig$();\n// src/components/Humor.js\nimport { useState, useEffect, useContext } from \"react\";\nimport { db } from \"../services/firebaseService\";\nimport { collection, addDoc, query, where, getDocs, orderBy } from \"firebase/firestore\";\nimport { UserContext } from \"../context/UserContext\";\nimport { Line } from \"react-chartjs-2\";\nimport { Chart as ChartJS, Title, Tooltip, Legend, LineElement, CategoryScale, LinearScale, PointElement } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(Title, Tooltip, Legend, LineElement, CategoryScale, LinearScale, PointElement);\nexport default function Humor() {\n  _s();\n  const {\n    user\n  } = useContext(UserContext);\n  const [estado, setEstado] = useState(\"\");\n  const [historico, setHistorico] = useState([]);\n  useEffect(() => {\n    const fetchHumor = async () => {\n      if (!user) return;\n      const q = query(collection(db, \"humor\"), where(\"userId\", \"==\", user.uid), orderBy(\"data\", \"asc\"));\n      const querySnapshot = await getDocs(q);\n      setHistorico(querySnapshot.docs.map(doc => doc.data()));\n    };\n    fetchHumor();\n  }, [user]);\n  const registrarHumor = async () => {\n    if (!estado) return;\n    await addDoc(collection(db, \"humor\"), {\n      userId: user.uid,\n      estado,\n      data: new Date()\n    });\n    setEstado(\"\");\n    setHistorico(prev => [...prev, {\n      estado,\n      data: new Date()\n    }]);\n  };\n  const data = {\n    labels: historico.map(h => h.data.toDate ? h.data.toDate().toLocaleDateString() : h.data.toLocaleDateString()),\n    datasets: [{\n      label: \"Humor Di√°rio\",\n      data: historico.map(h => [\"üòû\", \"üòê\", \"üôÇ\", \"üòÑ\"].indexOf(h.estado) + 1),\n      borderColor: \"blue\",\n      fill: false\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Registro de Humor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: estado,\n      onChange: e => setEstado(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Selecione\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\\uD83D\\uDE1E\",\n        children: \"\\uD83D\\uDE1E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\\uD83D\\uDE10\",\n        children: \"\\uD83D\\uDE10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\\uD83D\\uDE42\",\n        children: \"\\uD83D\\uDE42\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\\uD83D\\uDE04\",\n        children: \"\\uD83D\\uDE04\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: registrarHumor,\n      children: \"Registrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), historico.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 600,\n        marginTop: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(Line, {\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Humor, \"R9gElzwgEU2fF/PB29jhrMqoO28=\");\n_c = Humor;\nvar _c;\n$RefreshReg$(_c, \"Humor\");","map":{"version":3,"names":["useState","useEffect","useContext","db","collection","addDoc","query","where","getDocs","orderBy","UserContext","Line","Chart","ChartJS","Title","Tooltip","Legend","LineElement","CategoryScale","LinearScale","PointElement","jsxDEV","_jsxDEV","register","Humor","_s","user","estado","setEstado","historico","setHistorico","fetchHumor","q","uid","querySnapshot","docs","map","doc","data","registrarHumor","userId","Date","prev","labels","h","toDate","toLocaleDateString","datasets","label","indexOf","borderColor","fill","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","onClick","length","style","maxWidth","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/maxka/saude-homem-web/src/components/Humor.js"],"sourcesContent":["// src/components/Humor.js\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { db } from \"../services/firebaseService\";\r\nimport { collection, addDoc, query, where, getDocs, orderBy } from \"firebase/firestore\";\r\nimport { UserContext } from \"../context/UserContext\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Chart as ChartJS, Title, Tooltip, Legend, LineElement, CategoryScale, LinearScale, PointElement } from 'chart.js';\r\n\r\nChartJS.register(Title, Tooltip, Legend, LineElement, CategoryScale, LinearScale, PointElement);\r\n\r\nexport default function Humor() {\r\n  const { user } = useContext(UserContext);\r\n  const [estado, setEstado] = useState(\"\");\r\n  const [historico, setHistorico] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchHumor = async () => {\r\n      if (!user) return;\r\n      const q = query(collection(db, \"humor\"), where(\"userId\", \"==\", user.uid), orderBy(\"data\", \"asc\"));\r\n      const querySnapshot = await getDocs(q);\r\n      setHistorico(querySnapshot.docs.map(doc => doc.data()));\r\n    };\r\n    fetchHumor();\r\n  }, [user]);\r\n\r\n  const registrarHumor = async () => {\r\n    if (!estado) return;\r\n    await addDoc(collection(db, \"humor\"), {\r\n      userId: user.uid,\r\n      estado,\r\n      data: new Date()\r\n    });\r\n    setEstado(\"\");\r\n    setHistorico(prev => [...prev, { estado, data: new Date() }]);\r\n  };\r\n\r\n  const data = {\r\n    labels: historico.map(h => h.data.toDate ? h.data.toDate().toLocaleDateString() : h.data.toLocaleDateString()),\r\n    datasets: [\r\n      {\r\n        label: \"Humor Di√°rio\",\r\n        data: historico.map(h => [\"üòû\",\"üòê\",\"üôÇ\",\"üòÑ\"].indexOf(h.estado)+1),\r\n        borderColor: \"blue\",\r\n        fill: false\r\n      }\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Registro de Humor</h2>\r\n      <select value={estado} onChange={e => setEstado(e.target.value)}>\r\n        <option value=\"\">Selecione</option>\r\n        <option value=\"üòû\">üòû</option>\r\n        <option value=\"üòê\">üòê</option>\r\n        <option value=\"üôÇ\">üôÇ</option>\r\n        <option value=\"üòÑ\">üòÑ</option>\r\n      </select>\r\n      <button onClick={registrarHumor}>Registrar</button>\r\n\r\n      {historico.length > 0 && (\r\n        <div style={{ maxWidth: 600, marginTop: 20 }}>\r\n          <Line data={data} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}