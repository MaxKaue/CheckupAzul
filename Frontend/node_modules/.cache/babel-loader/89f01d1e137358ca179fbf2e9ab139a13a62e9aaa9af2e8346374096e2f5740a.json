{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maxka\\\\saude-homem-web\\\\Frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport GraficoMortalidade from \"../components/GraficoMortalidade\";\nimport \"../styles/Home.css\";\nimport \"../styles/Tema.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [quizCompleted, setQuizCompleted] = useState(false);\n  const [loadingQuizStatus, setLoadingQuizStatus] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    const storedUser = JSON.parse(localStorage.getItem(\"usuario\"));\n    const user_id = localStorage.getItem(\"user_id\"); // <-- AQUI\n\n    if (!storedUser || !token || !user_id) {\n      setUser(null);\n      setLoadingQuizStatus(false);\n      return;\n    }\n    setUser({\n      ...storedUser,\n      id: Number(user_id)\n    }); // <-- GARANTE user.id\n\n    const checkQuizStatus = async () => {\n      try {\n        const response = await fetch(`http://localhost:3000/quizresultado/${user_id}`);\n        if (response.status === 404) {\n          setQuizCompleted(false);\n        } else if (response.ok) {\n          setQuizCompleted(true);\n        } else {\n          throw new Error(\"Erro ao buscar resultado do quiz\");\n        }\n      } catch (err) {\n        setQuizCompleted(false);\n      } finally {\n        setLoadingQuizStatus(false);\n      }\n    };\n    checkQuizStatus();\n  }, []);\n  const handleQuizClick = () => {\n    if (!user) return;\n    if (quizCompleted) {\n      // Vai para a página do resultado salvo\n      navigate(`/quizresultado/${user.id}`);\n    } else {\n      // Inicia o quiz\n      navigate(\"/quiz\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container page-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-hero\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overlay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Bem-vindo ao Checkup Azul\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"O \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Novembro Azul\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), \" \\xE9 um movimento internacional dedicado \\xE0 conscientiza\\xE7\\xE3o sobre a sa\\xFAde masculina. Ele surgiu para lembrar que muitos homens ainda deixam sua sa\\xFAde em segundo plano, seja por falta de tempo, medo, vergonha ou pela ideia errada de que \\u201Chomem n\\xE3o adoece\\u201D. A campanha refor\\xE7a a import\\xE2ncia do autocuidado, da preven\\xE7\\xE3o e da realiza\\xE7\\xE3o de consultas regulares \\u2014 especialmente quando falamos de c\\xE2ncer de pr\\xF3stata, doen\\xE7as card\\xEDacas, sa\\xFAde mental e qualidade de vida.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"A verdade \\xE9 que se cuidar n\\xE3o deveria ser um tabu. \\xC9 um ato de coragem, maturidade e responsabilidade consigo mesmo e com quem voc\\xEA ama. Pequenas escolhas feitas no dia a dia podem transformar completamente a forma como voc\\xEA se sente, vive e envelhece.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Pensando nisso, criamos o \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Quiz Checkup Azul\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 39\n          }, this), \". Ele foi desenvolvido para ajudar voc\\xEA a entender melhor como anda sua rotina de autocuidado. As perguntas s\\xE3o r\\xE1pidas e abordam h\\xE1bitos essenciais, como alimenta\\xE7\\xE3o, sono, exerc\\xEDcios, exames preventivos e sa\\xFAde mental.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ao final do quiz, voc\\xEA receber\\xE1 uma an\\xE1lise personalizada com orienta\\xE7\\xF5es pr\\xE1ticas que podem fazer diferen\\xE7a real no seu bem-estar. O objetivo n\\xE3o \\xE9 julgar, mas ajudar voc\\xEA a enxergar oportunidades de melhorar sua qualidade de vida de forma simples, acess\\xEDvel e sem press\\xE3o.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Dedicar alguns minutos para responder o quiz pode ser o primeiro passo para criar uma rela\\xE7\\xE3o mais saud\\xE1vel com seu pr\\xF3prio corpo e mente. Vamos come\\xE7ar essa jornada juntos?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), loadingQuizStatus ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"quiz-button-home\",\n          disabled: true,\n          children: \"Carregando status...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this) : user ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"quiz-button-home\",\n          onClick: handleQuizClick,\n          children: quizCompleted ? \"Ver o seu resultado\" : \"Iniciar Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"login-text\",\n          children: [\"Fa\\xE7a \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"login ou cadastre-se\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 20\n          }, this), \" para acessar o Quiz de Sa\\xFAde Masculina.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"grafico-section\",\n      children: /*#__PURE__*/_jsxDEV(GraficoMortalidade, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"fYUqMe6vPPWFy65dxUx5C/XYNrk=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","GraficoMortalidade","jsxDEV","_jsxDEV","Home","_s","user","setUser","quizCompleted","setQuizCompleted","loadingQuizStatus","setLoadingQuizStatus","navigate","token","localStorage","getItem","storedUser","JSON","parse","user_id","id","Number","checkQuizStatus","response","fetch","status","ok","Error","err","handleQuizClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/Users/maxka/saude-homem-web/Frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport GraficoMortalidade from \"../components/GraficoMortalidade\";\r\nimport \"../styles/Home.css\";\r\nimport \"../styles/Tema.css\";\r\n\r\nexport default function Home() {\r\n  const [user, setUser] = useState(null);\r\n  const [quizCompleted, setQuizCompleted] = useState(false);\r\n  const [loadingQuizStatus, setLoadingQuizStatus] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n  const token = localStorage.getItem(\"token\");\r\n  const storedUser = JSON.parse(localStorage.getItem(\"usuario\"));\r\n  const user_id = localStorage.getItem(\"user_id\"); // <-- AQUI\r\n\r\n  if (!storedUser || !token || !user_id) {\r\n    setUser(null);\r\n    setLoadingQuizStatus(false);\r\n    return;\r\n  }\r\n\r\n  setUser({ ...storedUser, id: Number(user_id) }); // <-- GARANTE user.id\r\n\r\n  const checkQuizStatus = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:3000/quizresultado/${user_id}`);\r\n\r\n      if (response.status === 404) {\r\n        setQuizCompleted(false);\r\n      } else if (response.ok) {\r\n        setQuizCompleted(true);\r\n      } else {\r\n        throw new Error(\"Erro ao buscar resultado do quiz\");\r\n      }\r\n    } catch (err) {\r\n      setQuizCompleted(false);\r\n    } finally {\r\n      setLoadingQuizStatus(false);\r\n    }\r\n  };\r\n\r\n  checkQuizStatus();\r\n}, []);\r\n\r\n  const handleQuizClick = () => {\r\n    if (!user) return;\r\n    if (quizCompleted) {\r\n      // Vai para a página do resultado salvo\r\n      navigate(`/quizresultado/${user.id}`);\r\n    } else {\r\n      // Inicia o quiz\r\n      navigate(\"/quiz\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"home-container page-content\">\r\n      <div className=\"home-hero\">\r\n        <div className=\"overlay\"></div>\r\n        <div className=\"home-content\">\r\n          <h1>Bem-vindo ao Checkup Azul</h1>\r\n\r\n          <p>\r\n            O <strong>Novembro Azul</strong> é um movimento internacional\r\n            dedicado à conscientização sobre a saúde masculina. Ele surgiu para\r\n            lembrar que muitos homens ainda deixam sua saúde em segundo plano,\r\n            seja por falta de tempo, medo, vergonha ou pela ideia errada de que\r\n            “homem não adoece”. A campanha reforça a importância do autocuidado,\r\n            da prevenção e da realização de consultas regulares — especialmente\r\n            quando falamos de câncer de próstata, doenças cardíacas, saúde\r\n            mental e qualidade de vida.\r\n          </p>\r\n\r\n          <p>\r\n            A verdade é que se cuidar não deveria ser um tabu. É um ato de\r\n            coragem, maturidade e responsabilidade consigo mesmo e com quem você\r\n            ama. Pequenas escolhas feitas no dia a dia podem transformar\r\n            completamente a forma como você se sente, vive e envelhece.\r\n          </p>\r\n\r\n          <p>\r\n            Pensando nisso, criamos o <strong>Quiz Checkup Azul</strong>. Ele\r\n            foi desenvolvido para ajudar você a entender melhor como anda sua\r\n            rotina de autocuidado. As perguntas são rápidas e abordam hábitos\r\n            essenciais, como alimentação, sono, exercícios, exames preventivos e\r\n            saúde mental.\r\n          </p>\r\n\r\n          <p>\r\n            Ao final do quiz, você receberá uma análise personalizada com\r\n            orientações práticas que podem fazer diferença real no seu\r\n            bem-estar. O objetivo não é julgar, mas ajudar você a enxergar\r\n            oportunidades de melhorar sua qualidade de vida de forma simples,\r\n            acessível e sem pressão.\r\n          </p>\r\n\r\n          <p>\r\n            Dedicar alguns minutos para responder o quiz pode ser o primeiro\r\n            passo para criar uma relação mais saudável com seu próprio corpo e\r\n            mente. Vamos começar essa jornada juntos?\r\n          </p>\r\n\r\n          {loadingQuizStatus ? (\r\n            <button className=\"quiz-button-home\" disabled>\r\n              Carregando status...\r\n            </button>\r\n          ) : user ? (\r\n            <button className=\"quiz-button-home\" onClick={handleQuizClick}>\r\n              {quizCompleted ? \"Ver o seu resultado\" : \"Iniciar Quiz\"}\r\n            </button>\r\n          ) : (\r\n            <p className=\"login-text\">\r\n              Faça <strong>login ou cadastre-se</strong> para acessar o Quiz de\r\n              Saúde Masculina.\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <section className=\"grafico-section\">\r\n        <GraficoMortalidade />\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}