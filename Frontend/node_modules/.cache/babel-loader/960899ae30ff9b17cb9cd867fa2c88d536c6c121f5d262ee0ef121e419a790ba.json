{"ast":null,"code":"// src/components/Navbar.js\nimport React,{useState,useEffect,useRef}from'react';import{Link,useNavigate}from'react-router-dom';import{auth}from'../services/firebaseService';import{signOut}from'firebase/auth';import'../styles/Navbar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Navbar(){const[currentUser,setCurrentUser]=useState(null);// Estado para controlar a visibilidade do menu dropdown (Sandu√≠che)\nconst[isMenuOpen,setIsMenuOpen]=useState(false);const navigate=useNavigate();// Refer√™ncia para fechar o menu ao clicar fora do dropdown\nconst menuRef=useRef(null);useEffect(()=>{const unsubscribe=auth.onAuthStateChanged(user=>{setCurrentUser(user);});// L√≥gica para fechar o menu ao clicar fora\nconst handleClickOutside=event=>{if(menuRef.current&&!menuRef.current.contains(event.target)){setIsMenuOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{unsubscribe();document.removeEventListener('mousedown',handleClickOutside);};},[]);const handleLogout=async()=>{try{await signOut(auth);setIsMenuOpen(false);// Fecha o menu\nnavigate('/');}catch(error){console.error(\"Erro ao fazer logout:\",error);}};// Fun√ß√£o para alternar o estado do menu principal\nconst toggleMenu=()=>{setIsMenuOpen(prev=>!prev);};// Fun√ß√£o auxiliar para fechar o menu ap√≥s um clique em um link\nconst handleLinkClick=()=>{setIsMenuOpen(false);};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-left\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"logo\",children:\"Checkup Azul\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-right\",ref:menuRef,children:currentUser?/*#__PURE__*/// --- MENU SANDU√çCHE/DROP-DOWN PARA USU√ÅRIO LOGADO ---\n_jsxs(\"div\",{className:\"dropdown-menu-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleMenu,className:\"menu-button\",children:\"\\u2630\"}),isMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item user-info\",style:{fontWeight:'bold'},children:[\"Ol\\xE1, \",currentUser.email.split('@')[0]]}),/*#__PURE__*/_jsx(\"hr\",{style:{margin:'0',borderColor:'#333'}}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"dropdown-item\",onClick:handleLinkClick,children:\"\\uD83C\\uDFE0 Home / Quiz\"}),/*#__PURE__*/_jsx(Link,{to:\"/lembretes\",className:\"dropdown-item\",onClick:handleLinkClick,children:\"\\uD83D\\uDCC5 Meus Lembretes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"dropdown-item logout-button\",children:\"Sair\"})]})]}):/*#__PURE__*/// --- LINKS PARA USU√ÅRIO N√ÉO LOGADO (sem dropdown) ---\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-button\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/cadastro\",className:\"nav-button signup-btn\",children:\"Cadastrar\"})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useNavigate","auth","signOut","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","currentUser","setCurrentUser","isMenuOpen","setIsMenuOpen","navigate","menuRef","unsubscribe","onAuthStateChanged","user","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleLogout","error","console","toggleMenu","prev","handleLinkClick","className","children","to","ref","onClick","style","fontWeight","email","split","margin","borderColor"],"sources":["C:/Users/maxka/saude-homem-web/src/components/Navbar.js"],"sourcesContent":["// src/components/Navbar.js\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { auth } from '../services/firebaseService'; \r\nimport { signOut } from 'firebase/auth';\r\nimport '../styles/Navbar.css'; \r\n\r\nexport default function Navbar() {\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    // Estado para controlar a visibilidade do menu dropdown (Sandu√≠che)\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false); \r\n    \r\n    const navigate = useNavigate();\r\n    // Refer√™ncia para fechar o menu ao clicar fora do dropdown\r\n    const menuRef = useRef(null); \r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user);\r\n        });\r\n\r\n        // L√≥gica para fechar o menu ao clicar fora\r\n        const handleClickOutside = (event) => {\r\n            if (menuRef.current && !menuRef.current.contains(event.target)) {\r\n                setIsMenuOpen(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => {\r\n            unsubscribe();\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, []);\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await signOut(auth);\r\n            setIsMenuOpen(false); // Fecha o menu\r\n            navigate('/');\r\n        } catch (error) {\r\n            console.error(\"Erro ao fazer logout:\", error);\r\n        }\r\n    };\r\n    \r\n    // Fun√ß√£o para alternar o estado do menu principal\r\n    const toggleMenu = () => {\r\n        setIsMenuOpen(prev => !prev);\r\n    };\r\n\r\n    // Fun√ß√£o auxiliar para fechar o menu ap√≥s um clique em um link\r\n    const handleLinkClick = () => {\r\n        setIsMenuOpen(false);\r\n    }\r\n\r\n    return (\r\n        <nav className=\"navbar\">\r\n            \r\n            {/* LADO ESQUERDO: Logo */}\r\n            <div className=\"navbar-left\">\r\n                {/* Garanta que a classe 'logo' est√° no CSS para formatar */}\r\n                <Link to=\"/\" className=\"logo\">\r\n                    Checkup Azul\r\n                </Link>\r\n            </div>\r\n            \r\n            {/* LADO DIREITO: Itens de navega√ß√£o */}\r\n            <div className=\"navbar-right\" ref={menuRef}> \r\n                \r\n                {currentUser ? (\r\n                    // --- MENU SANDU√çCHE/DROP-DOWN PARA USU√ÅRIO LOGADO ---\r\n                    <div className=\"dropdown-menu-container\">\r\n                        {/* BOT√ÉO SANDU√çCHE/MENU PRINCIPAL */}\r\n                        <button onClick={toggleMenu} className=\"menu-button\">\r\n                            ‚ò∞\r\n                        </button>\r\n                        \r\n                        {isMenuOpen && (\r\n                            <div className=\"dropdown-content\">\r\n                                {/* ITEM 1: Nome do Usu√°rio (apenas visual, n√£o clic√°vel) */}\r\n                                <div className=\"dropdown-item user-info\" style={{ fontWeight: 'bold' }}>\r\n                                    Ol√°, {currentUser.email.split('@')[0]}\r\n                                </div>\r\n                                <hr style={{margin: '0', borderColor: '#333'}} /> \r\n\r\n                                {/* ITEM 2: Rotas Principais */}\r\n                                <Link \r\n                                    to=\"/\" \r\n                                    className=\"dropdown-item\" \r\n                                    onClick={handleLinkClick}\r\n                                >\r\n                                    üè† Home / Quiz\r\n                                </Link>\r\n\r\n                                {/* ITEM 3: Lembretes */}\r\n                                <Link \r\n                                    to=\"/lembretes\" \r\n                                    className=\"dropdown-item\" \r\n                                    onClick={handleLinkClick}\r\n                                >\r\n                                    üìÖ Meus Lembretes\r\n                                </Link>\r\n\r\n                                {/* ITEM FINAL: Logout */}\r\n                                <button \r\n                                    onClick={handleLogout} \r\n                                    className=\"dropdown-item logout-button\"\r\n                                >\r\n                                    Sair\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                ) : (\r\n                    // --- LINKS PARA USU√ÅRIO N√ÉO LOGADO (sem dropdown) ---\r\n                    <>\r\n                        {/* Links vis√≠veis diretamente na barra para n√£o logados */}\r\n                        <Link to=\"/login\" className=\"nav-button\">Login</Link>\r\n                        <Link to=\"/cadastro\" className=\"nav-button signup-btn\">Cadastrar</Link>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </nav>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}